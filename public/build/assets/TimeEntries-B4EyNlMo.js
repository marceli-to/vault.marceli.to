import{m as le,E as M,o as l,g as d,r as ne,i as E,C as oe,k as w,d as e,t as f,a as u,w as p,G as V,H,n as _,c as j,F as P,b as t,f as S,I as k,u as me,q as J,e as fe,h as ge,x as Z}from"./app-DcdwXquP.js";import{H as B,n as F,_ as re,G as xe,a as he,b as be,d as ve,e as pe,f as ye,g as we,h as $e,i as ke,j as _e,k as K,I as Q,F as Ee,J as R,l as X,o as Ce,m as Ve}from"./ConfirmDialog-im05l2OT.js";import{F as Y}from"./PhSignOut.vue-BT6S2Nuy.js";import{_ as A}from"./index-B2ElNip0.js";import{G as je,I as Ae}from"./PhClock.vue-CSxCVdEr.js";import{_ as I}from"./Input-CAVzji94.js";import{_ as Se}from"./Checkbox--DbxHV5H.js";import"./RovingFocusGroup-D2-10MLM.js";const He=["width","height","fill","transform"],Me={key:0},Le=e("path",{d:"M204,168a52.06,52.06,0,0,1-52,52H140v12a12,12,0,0,1-24,0V220H104a52.06,52.06,0,0,1-52-52,12,12,0,0,1,24,0,28,28,0,0,0,28,28h48a28,28,0,0,0,0-56H112a52,52,0,0,1,0-104h4V24a12,12,0,0,1,24,0V36h4a52.06,52.06,0,0,1,52,52,12,12,0,0,1-24,0,28,28,0,0,0-28-28H112a28,28,0,0,0,0,56h40A52.06,52.06,0,0,1,204,168Z"},null,-1),Ze=[Le],De={key:1},ze=e("path",{d:"M192,168a40,40,0,0,1-40,40H128V128h24A40,40,0,0,1,192,168ZM112,48a40,40,0,0,0,0,80h16V48Z",opacity:"0.2"},null,-1),Ie=e("path",{d:"M200,168a48.05,48.05,0,0,1-48,48H136v16a8,8,0,0,1-16,0V216H104a48.05,48.05,0,0,1-48-48,8,8,0,0,1,16,0,32,32,0,0,0,32,32h48a32,32,0,0,0,0-64H112a48,48,0,0,1,0-96h8V24a8,8,0,0,1,16,0V40h8a48.05,48.05,0,0,1,48,48,8,8,0,0,1-16,0,32,32,0,0,0-32-32H112a32,32,0,0,0,0,64h40A48.05,48.05,0,0,1,200,168Z"},null,-1),Pe=[ze,Ie],Te={key:2},Be=e("path",{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm16,160h-8v8a8,8,0,0,1-16,0v-8h-8a32,32,0,0,1-32-32,8,8,0,0,1,16,0,16,16,0,0,0,16,16h32a16,16,0,0,0,0-32H116a32,32,0,0,1,0-64h4V64a8,8,0,0,1,16,0v8h4a32,32,0,0,1,32,32,8,8,0,0,1-16,0,16,16,0,0,0-16-16H116a16,16,0,0,0,0,32h28a32,32,0,0,1,0,64Z"},null,-1),Fe=[Be],Ne={key:3},Ue=e("path",{d:"M198,168a46.06,46.06,0,0,1-46,46H134v18a6,6,0,0,1-12,0V214H104a46.06,46.06,0,0,1-46-46,6,6,0,0,1,12,0,34,34,0,0,0,34,34h48a34,34,0,0,0,0-68H112a46,46,0,0,1,0-92h10V24a6,6,0,0,1,12,0V42h10a46.06,46.06,0,0,1,46,46,6,6,0,0,1-12,0,34,34,0,0,0-34-34H112a34,34,0,0,0,0,68h40A46.06,46.06,0,0,1,198,168Z"},null,-1),Ge=[Ue],Oe={key:4},qe=e("path",{d:"M200,168a48.05,48.05,0,0,1-48,48H136v16a8,8,0,0,1-16,0V216H104a48.05,48.05,0,0,1-48-48,8,8,0,0,1,16,0,32,32,0,0,0,32,32h48a32,32,0,0,0,0-64H112a48,48,0,0,1,0-96h8V24a8,8,0,0,1,16,0V40h8a48.05,48.05,0,0,1,48,48,8,8,0,0,1-16,0,32,32,0,0,0-32-32H112a32,32,0,0,0,0,64h40A48.05,48.05,0,0,1,200,168Z"},null,-1),We=[qe],Je={key:5},Ke=e("path",{d:"M196,168a44.05,44.05,0,0,1-44,44H132v20a4,4,0,0,1-8,0V212H104a44.05,44.05,0,0,1-44-44,4,4,0,0,1,8,0,36,36,0,0,0,36,36h48a36,36,0,0,0,0-72H112a44,44,0,0,1,0-88h12V24a4,4,0,0,1,8,0V44h12a44.05,44.05,0,0,1,44,44,4,4,0,0,1-8,0,36,36,0,0,0-36-36H112a36,36,0,0,0,0,72h40A44.05,44.05,0,0,1,196,168Z"},null,-1),Qe=[Ke],Re={name:"PhCurrencyDollarSimple"},N=le({...Re,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const g=n,h=M("weight","regular"),y=M("size","1em"),$=M("color","currentColor"),s=M("mirrored",!1),b=w(()=>g.weight??h),v=w(()=>g.size??y),m=w(()=>g.color??$),o=w(()=>g.mirrored!==void 0?g.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(r,c)=>(l(),d("svg",oe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:v.value,height:v.value,fill:m.value,transform:o.value},r.$attrs),[ne(r.$slots,"default"),b.value==="bold"?(l(),d("g",Me,Ze)):b.value==="duotone"?(l(),d("g",De,Pe)):b.value==="fill"?(l(),d("g",Te,Fe)):b.value==="light"?(l(),d("g",Ne,Ge)):b.value==="regular"?(l(),d("g",Oe,We)):b.value==="thin"?(l(),d("g",Je,Qe)):E("",!0)],16,He))}}),Xe=["width","height","fill","transform"],Ye={key:0},et=e("path",{d:"M234.29,47.91A20,20,0,0,0,216,36H40A20,20,0,0,0,25.2,69.45l.12.14L92,140.75V216a20,20,0,0,0,31.1,16.64l32-21.33A20,20,0,0,0,164,194.66V140.75l66.67-71.16.12-.14A20,20,0,0,0,234.29,47.91Zm-91,79.89A12,12,0,0,0,140,136v56.52l-24,16V136a12,12,0,0,0-3.25-8.2L49.23,60H206.77Z"},null,-1),tt=[et],st={key:1},lt=e("path",{d:"M221.9,61.38,152,136v58.65a8,8,0,0,1-3.56,6.66l-32,21.33A8,8,0,0,1,104,216V136L34.1,61.38A8,8,0,0,1,40,48H216A8,8,0,0,1,221.9,61.38Z",opacity:"0.2"},null,-1),nt=e("path",{d:"M230.6,49.53A15.81,15.81,0,0,0,216,40H40A16,16,0,0,0,28.19,66.76l.08.09L96,139.17V216a16,16,0,0,0,24.87,13.32l32-21.34A16,16,0,0,0,160,194.66V139.17l67.74-72.32.08-.09A15.8,15.8,0,0,0,230.6,49.53ZM40,56h0Zm106.18,74.58A8,8,0,0,0,144,136v58.66L112,216V136a8,8,0,0,0-2.16-5.47L40,56H216Z"},null,-1),ot=[lt,nt],rt={key:2},it=e("path",{d:"M227.81,66.76l-.08.09L160,139.17v55.49A16,16,0,0,1,152.87,208l-32,21.34A16,16,0,0,1,96,216V139.17L28.27,66.85l-.08-.09A16,16,0,0,1,40,40H216a16,16,0,0,1,11.84,26.76Z"},null,-1),at=[it],dt={key:3},ut=e("path",{d:"M228.77,50.34A13.8,13.8,0,0,0,216,42H40A14,14,0,0,0,29.67,65.42l.06.07L98,138.38V216a14,14,0,0,0,21.77,11.64l32-21.33A14,14,0,0,0,158,194.66V138.38l68.33-73A13.82,13.82,0,0,0,228.77,50.34Zm-11.26,6.94L147.62,131.9A6,6,0,0,0,146,136v58.66a2,2,0,0,1-.89,1.67l-32,21.33A2,2,0,0,1,110,216V136a6,6,0,0,0-1.62-4.1L38.53,57.32A2,2,0,0,1,40,54H216a1.9,1.9,0,0,1,1.83,1.19A1.86,1.86,0,0,1,217.51,57.28Z"},null,-1),ct=[ut],mt={key:4},ft=e("path",{d:"M230.6,49.53A15.81,15.81,0,0,0,216,40H40A16,16,0,0,0,28.19,66.76l.08.09L96,139.17V216a16,16,0,0,0,24.87,13.32l32-21.34A16,16,0,0,0,160,194.66V139.17l67.74-72.32.08-.09A15.8,15.8,0,0,0,230.6,49.53ZM40,56h0Zm106.18,74.58A8,8,0,0,0,144,136v58.66L112,216V136a8,8,0,0,0-2.16-5.47L40,56H216Z"},null,-1),gt=[ft],xt={key:5},ht=e("path",{d:"M227,51.15A11.85,11.85,0,0,0,216,44H40a12,12,0,0,0-8.88,20.07l.05.05L100,137.59V216a12,12,0,0,0,18.66,10l32-21.33a12,12,0,0,0,5.35-10V137.59l68.86-73.52A11.85,11.85,0,0,0,227,51.15Zm-8,7.5-69.9,74.62A4,4,0,0,0,148,136v58.65a4,4,0,0,1-1.78,3.33l-32,21.33A4,4,0,0,1,108,216V136a4,4,0,0,0-1.08-2.74L37.05,58.67A4,4,0,0,1,40,52H216a4,4,0,0,1,3,6.65Z"},null,-1),bt=[ht],vt={name:"PhFunnel"},ee=le({...vt,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(n){const g=n,h=M("weight","regular"),y=M("size","1em"),$=M("color","currentColor"),s=M("mirrored",!1),b=w(()=>g.weight??h),v=w(()=>g.size??y),m=w(()=>g.color??$),o=w(()=>g.mirrored!==void 0?g.mirrored?"scale(-1, 1)":void 0:s?"scale(-1, 1)":void 0);return(r,c)=>(l(),d("svg",oe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:v.value,height:v.value,fill:m.value,transform:o.value},r.$attrs),[ne(r.$slots,"default"),b.value==="bold"?(l(),d("g",Ye,tt)):b.value==="duotone"?(l(),d("g",st,ot)):b.value==="fill"?(l(),d("g",rt,at)):b.value==="light"?(l(),d("g",dt,ct)):b.value==="regular"?(l(),d("g",mt,gt)):b.value==="thin"?(l(),d("g",xt,bt)):E("",!0)],16,Xe))}}),pt={class:"flex h-full w-full flex-col border-b border-border bg-background md:w-[25rem] md:border-b-0 md:border-r"},yt={class:"flex items-center justify-between px-4 border-b border-border h-[50px]"},wt={class:"text-sm font-semibold tracking-tight"},$t={class:"text-xs text-muted-foreground"},kt={class:"px-3 py-2"},_t={class:"space-y-1"},Et=["onClick"],Ct={class:"flex-1 min-w-0"},Vt={class:"flex items-center gap-2"},jt={class:"truncate text-sm font-medium"},At={class:"flex items-center gap-2 mt-0.5"},St={class:"truncate text-xs text-muted-foreground flex-1"},Ht={class:"flex items-center gap-3 mt-1 text-[10px] text-muted-foreground/60"},Mt={key:0,class:"text-amber-500"},Lt={key:1,class:"text-blue-400"},Zt={key:0,class:"px-3 py-8 text-center text-sm text-muted-foreground"},te={__name:"TimeEntryList",props:{timeEntries:Array,selectedId:[Number,null],filters:Object},emits:["select"],setup(n,{emit:g}){const h=n,y=g,$={open:F,processed:B},s={open:"text-amber-400",processed:"text-green-700 dark:text-green-500"},b=w(()=>h.filters?.project?h.filters.project:h.filters?.status==="open"?"Open":h.filters?.status==="processed"?"Processed":h.filters?.billable===!0||h.filters?.billable==="1"?"Billable":"All Time Entries");function v(o){return new Date(o).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})}function m(o){if(!o)return"—";const r=Math.floor(o/60),c=o%60;return r===0?`${c}m`:c===0?`${r}h`:`${r}h ${c}m`}return(o,r)=>(l(),d("div",pt,[e("div",yt,[e("h2",wt,f(b.value),1),e("span",$t,f(n.timeEntries.length),1)]),u(t(re),{class:"flex-1"},{default:p(()=>[e("div",kt,[e("div",_t,[(l(!0),d(V,null,H(n.timeEntries,c=>(l(),d("button",{key:c.id,onClick:C=>y("select",c),class:_(["flex w-full items-start gap-3 rounded-lg px-3 py-2.5 text-left transition-all",n.selectedId===c.id?"bg-amber-500/20 ring-1 ring-amber-500/30 dark:bg-violet-500/15 dark:ring-violet-400/25":"hover:bg-secondary/50"])},[(l(),j(P($[c.status]),{class:_(["h-4 w-4 shrink-0 mt-0.5",s[c.status]]),weight:"thin"},null,8,["class"])),e("div",Ct,[e("div",Vt,[e("span",jt,f(c.project),1),c.billable?(l(),j(t(N),{key:0,class:"h-3 w-3 text-green-500 shrink-0",weight:"fill"})):E("",!0)]),e("div",At,[e("span",St,f(c.description.substring(0,60))+f(c.description.length>60?"…":""),1)]),e("div",Ht,[e("span",null,f(v(c.date)),1),c.actual_minutes?(l(),d("span",Mt,f(m(c.actual_minutes))+" actual",1)):E("",!0),c.estimated_minutes?(l(),d("span",Lt,f(m(c.estimated_minutes))+" est",1)):E("",!0)])])],10,Et))),128))]),n.timeEntries.length===0?(l(),d("div",Zt," No time entries found ")):E("",!0)])]),_:1})]))}},Dt={key:0,class:"flex h-full flex-col"},zt={class:"flex flex-col gap-3 border-b border-border p-4 md:flex-row md:items-start md:justify-between md:gap-4 md:p-6 md:pb-4"},It={class:"flex-1 space-y-2"},Pt={class:"flex flex-wrap items-center gap-2"},Tt={key:0,class:"flex items-center gap-1 rounded-full px-2 py-0.5 text-xs font-medium text-green-500 bg-green-400/10"},Bt={key:1,class:"rounded-full px-2 py-0.5 text-xs font-medium text-muted-foreground bg-secondary/50"},Ft={class:"text-lg font-semibold tracking-tight md:text-xl"},Nt={class:"flex items-center gap-1 text-sm text-muted-foreground"},Ut={class:"flex items-center gap-1 self-end md:self-auto"},Gt={class:"flex-1 overflow-auto p-4 md:p-6"},Ot={class:"grid grid-cols-2 gap-4 mb-6"},qt={class:"rounded-lg border border-border p-4"},Wt={class:"text-xl font-semibold text-amber-500"},Jt={class:"rounded-lg border border-border p-4"},Kt={class:"text-xl font-semibold text-blue-400"},Qt={class:"prose prose-invert max-w-none whitespace-pre-wrap text-sm leading-relaxed text-foreground/90"},Rt={key:0,class:"mt-4 flex flex-wrap gap-1.5"},Xt={class:"border-t border-border p-4"},Yt={class:"flex items-center justify-start md:justify-end"},es={class:"flex items-center gap-3 text-xs text-muted-foreground"},ts={class:"flex items-center gap-1"},ss={key:1,class:"flex h-full flex-col items-center justify-center text-muted-foreground"},se={__name:"TimeEntryDetail",props:{timeEntry:Object},emits:["edit","delete"],setup(n,{emit:g}){const h=n,y=g,$={open:"Open",processed:"Processed"},s={open:"text-amber-400 bg-amber-400/10",processed:"text-green-700 dark:text-green-500 bg-green-400/10"};function b(r){return new Date(r).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}function v(r){return new Date(r).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}function m(r){if(!r)return"—";const c=Math.floor(r/60),C=r%60;return c===0?`${C} minutes`:C===0?`${c} hour${c>1?"s":""}`:`${c}h ${C}m`}function o(){const r=h.timeEntry.status==="open"?"processed":"open";k.put(route("time-entries.update",h.timeEntry.id),{...h.timeEntry,status:r},{preserveScroll:!0})}return(r,c)=>n.timeEntry?(l(),d("div",Dt,[e("div",zt,[e("div",It,[e("div",Pt,[e("button",{onClick:o,class:"transition-transform hover:scale-110"},[e("span",{class:_(["rounded-full px-2 py-0.5 text-xs font-medium",s[n.timeEntry.status]])},f($[n.timeEntry.status]),3)]),n.timeEntry.billable?(l(),d("span",Tt,[u(t(N),{class:"h-3 w-3",weight:"fill"}),c[2]||(c[2]=S(" Billable ",-1))])):(l(),d("span",Bt," Non-billable "))]),e("h1",Ft,f(n.timeEntry.project),1),e("div",Nt,[u(t(je),{class:"h-4 w-4",weight:"thin"}),S(" "+f(b(n.timeEntry.date)),1)])]),e("div",Ut,[u(t(A),{variant:"ghost",size:"icon",class:"h-8 w-8",onClick:c[0]||(c[0]=C=>y("edit",n.timeEntry))},{default:p(()=>[u(t(xe),{class:"h-4 w-4 text-foreground",weight:"thin"})]),_:1}),u(t(A),{variant:"ghost",size:"icon",class:"h-8 w-8 text-red-600 hover:text-red-500 dark:text-red-400 dark:hover:text-red-300",onClick:c[1]||(c[1]=C=>y("delete",n.timeEntry))},{default:p(()=>[u(t(he),{class:"h-4 w-4",weight:"thin"})]),_:1})])]),e("div",Gt,[e("div",Ot,[e("div",qt,[c[3]||(c[3]=e("div",{class:"text-xs text-muted-foreground mb-1"},"Actual Time",-1)),e("div",Wt,f(m(n.timeEntry.actual_minutes)),1)]),e("div",Jt,[c[4]||(c[4]=e("div",{class:"text-xs text-muted-foreground mb-1"},"Estimated Time",-1)),e("div",Kt,f(m(n.timeEntry.estimated_minutes)),1)])]),e("div",Qt,f(n.timeEntry.description),1),n.timeEntry.tags&&n.timeEntry.tags.length?(l(),d("div",Rt,[(l(!0),d(V,null,H(n.timeEntry.tags,C=>(l(),d("span",{key:C,class:"rounded-full bg-secondary/50 px-2 py-0.5 text-xs text-muted-foreground"},f(C),1))),128))])):E("",!0)]),e("div",Xt,[e("div",Yt,[e("div",es,[e("span",ts,[u(t(Ae),{class:"h-3 w-3 text-foreground",weight:"thin"}),S(" Created "+f(v(n.timeEntry.created_at)),1)])])])])])):(l(),d("div",ss,[...c[5]||(c[5]=[e("p",{class:"text-sm"},"Select a time entry to view details",-1)])]))}},ls={id:"project-list"},ns=["value"],os={class:"grid grid-cols-2 gap-4"},rs={class:"flex gap-2"},is=["onClick"],as={class:"flex items-center gap-2"},ds={__name:"TimeEntryForm",props:{open:Boolean,timeEntry:{type:Object,default:null},projects:{type:Array,default:()=>[]}},emits:["close"],setup(n,{emit:g}){const h=n,y=g,$=[{value:"open",label:"Open",icon:F,color:"text-amber-300 bg-amber-400/10 border-amber-500/20"},{value:"processed",label:"Processed",icon:B,color:"text-green-500 bg-green-400/10 border-green-500/20"}],s=me({project:"",description:"",date:"",actual_minutes:"",estimated_minutes:"",billable:!0,status:"open",tags:[]}),b=w(()=>h.projects.map(m=>m.name));J(()=>h.timeEntry,m=>{m?(s.project=m.project||"",s.description=m.description||"",s.date=m.date?m.date.substring(0,10):"",s.actual_minutes=m.actual_minutes??"",s.estimated_minutes=m.estimated_minutes??"",s.billable=m.billable??!0,s.status=m.status||"open",s.tags=m.tags||[]):(s.reset(),s.billable=!0,s.status="open",s.date=new Date().toISOString().substring(0,10))},{immediate:!0}),J(()=>h.open,m=>{m&&(h.timeEntry||(s.reset(),s.billable=!0,s.status="open",s.date=new Date().toISOString().substring(0,10)))});function v(){({...s.data(),actual_minutes:s.actual_minutes&&parseInt(s.actual_minutes),estimated_minutes:s.estimated_minutes&&parseInt(s.estimated_minutes)},h.timeEntry?s.put(route("time-entries.update",h.timeEntry.id),{preserveScroll:!0,onSuccess:()=>y("close")}):s.post(route("time-entries.store"),{preserveScroll:!0,onSuccess:()=>{s.reset(),s.billable=!0,s.status="open",y("close")}}))}return(m,o)=>(l(),j(t(ke),{open:n.open,"onUpdate:open":o[7]||(o[7]=r=>m.$emit("close"))},{default:p(()=>[u(t(be),{class:"w-[calc(100vw-1.5rem)] sm:w-full sm:max-w-lg"},{default:p(()=>[u(t(ve),null,{default:p(()=>[u(t(pe),null,{default:p(()=>[S(f(n.timeEntry?"Edit Time Entry":"New Time Entry"),1)]),_:1}),u(t(ye),{class:"text-sm text-muted-foreground"},{default:p(()=>[S(f(n.timeEntry?"Update this time entry.":"Log your time."),1)]),_:1})]),_:1}),e("form",{onSubmit:fe(v,["prevent"]),class:"space-y-4"},[e("div",null,[o[8]||(o[8]=e("label",{class:"text-xs font-medium text-muted-foreground mb-1.5 block"},"Project",-1)),u(t(I),{modelValue:t(s).project,"onUpdate:modelValue":o[0]||(o[0]=r=>t(s).project=r),placeholder:"e.g. bambole.ch",list:"project-list"},null,8,["modelValue"]),e("datalist",ls,[(l(!0),d(V,null,H(b.value,r=>(l(),d("option",{key:r,value:r},null,8,ns))),128))])]),e("div",null,[o[9]||(o[9]=e("label",{class:"text-xs font-medium text-muted-foreground mb-1.5 block"},"Description",-1)),u(t(we),{modelValue:t(s).description,"onUpdate:modelValue":o[1]||(o[1]=r=>t(s).description=r),placeholder:"What did you work on?",class:"min-h-[80px] resize-none"},null,8,["modelValue"])]),e("div",null,[o[10]||(o[10]=e("label",{class:"text-xs font-medium text-muted-foreground mb-1.5 block"},"Date",-1)),u(t(I),{modelValue:t(s).date,"onUpdate:modelValue":o[2]||(o[2]=r=>t(s).date=r),type:"date"},null,8,["modelValue"])]),e("div",os,[e("div",null,[o[11]||(o[11]=e("label",{class:"text-xs font-medium text-muted-foreground mb-1.5 block"},"Actual Minutes",-1)),u(t(I),{modelValue:t(s).actual_minutes,"onUpdate:modelValue":o[3]||(o[3]=r=>t(s).actual_minutes=r),type:"number",min:"0",placeholder:"e.g. 30"},null,8,["modelValue"])]),e("div",null,[o[12]||(o[12]=e("label",{class:"text-xs font-medium text-muted-foreground mb-1.5 block"},"Estimated Minutes",-1)),u(t(I),{modelValue:t(s).estimated_minutes,"onUpdate:modelValue":o[4]||(o[4]=r=>t(s).estimated_minutes=r),type:"number",min:"0",placeholder:"e.g. 120"},null,8,["modelValue"])])]),e("div",null,[o[13]||(o[13]=e("label",{class:"text-xs font-medium text-muted-foreground mb-1.5 block"},"Status",-1)),e("div",rs,[(l(),d(V,null,H($,r=>e("button",{key:r.value,type:"button",onClick:c=>t(s).status=r.value,class:_(["flex items-center gap-1.5 rounded-lg border px-3 py-1.5 text-xs font-medium transition-all",t(s).status===r.value?r.color:"border-border text-muted-foreground hover:bg-secondary"])},[(l(),j(P(r.icon),{class:"h-3.5 w-3.5",weight:"thin"})),S(" "+f(r.label),1)],10,is)),64))])]),e("div",as,[u(t(Se),{id:"billable",checked:t(s).billable,"onUpdate:checked":o[5]||(o[5]=r=>t(s).billable=r)},null,8,["checked"]),o[14]||(o[14]=e("label",{for:"billable",class:"text-sm text-muted-foreground cursor-pointer"}," Billable ",-1))]),u(t($e),{class:"pt-1 gap-3 sm:gap-3"},{default:p(()=>[u(t(A),{type:"button",variant:"outline",onClick:o[6]||(o[6]=r=>m.$emit("close"))},{default:p(()=>[...o[15]||(o[15]=[S("Cancel",-1)])]),_:1}),u(t(A),{type:"submit",disabled:t(s).processing||!t(s).project||!t(s).description||!t(s).date,class:"bg-amber-600 hover:bg-amber-700"},{default:p(()=>[S(f(n.timeEntry?"Update":"Create"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]))}},us={class:"h-screen bg-background md:hidden"},cs={class:"flex h-full flex-col"},ms={class:"flex h-[50px] items-center justify-between border-b border-border px-2"},fs={class:"text-xs font-mono text-muted-foreground"},gs={class:"flex items-center gap-1"},xs={class:"flex-1 overflow-hidden"},hs={key:0,class:"fixed inset-0 z-50 md:hidden"},bs={class:"absolute inset-y-0 left-0 w-[86vw] max-w-sm border-r border-border bg-background p-4 overflow-y-auto"},vs={class:"-mx-4 -mt-4 mb-3 flex h-[50px] items-center justify-between border-b border-border px-2"},ps={class:"flex items-center gap-2"},ys={class:"space-y-5"},ws={class:"space-y-2"},$s=["onClick"],ks={class:"truncate"},_s={class:"ml-auto text-xs opacity-60"},Es={key:0,class:"space-y-2"},Cs=["onClick"],Vs={class:"truncate flex-1 text-left"},js={class:"text-xs text-muted-foreground/60 shrink-0"},As={class:"hidden h-screen bg-background md:flex"},Ss={class:"flex h-full w-16 flex-col items-center border-r border-border bg-card py-4"},Hs={class:"flex flex-col items-center gap-1 mb-2"},Ms={class:"flex h-10 w-10 items-center justify-center rounded-lg bg-amber-500/20 text-amber-600 dark:bg-violet-500/15 dark:text-violet-400 transition-all"},Ls={class:"flex flex-col items-center gap-1"},Zs=["onClick","title"],Ds={key:0,class:"h-full w-48 border-r border-border bg-card overflow-hidden animate-in fade-in slide-in-from-left-2 duration-150"},zs={class:"flex items-center gap-2 px-4 h-[50px] border-b border-border"},Is={class:"py-2 px-2"},Ps=["onClick"],Ts={class:"truncate flex-1 text-left"},Bs={class:"text-xs text-muted-foreground/60 shrink-0"},Fs={class:"flex flex-1 flex-col"},Ns={class:"flex items-center justify-between border-b border-border pl-6 pr-3 h-[50px]"},Us={class:"text-xs text-muted-foreground font-mono"},Gs={key:0,class:"border-b border-border p-4"},Os={class:"space-y-2"},qs={class:"text-sm font-medium"},Ws={class:"text-xs text-muted-foreground"},Js={class:"text-right"},Ks={class:"text-sm font-medium text-amber-500"},Qs={class:"text-xs text-muted-foreground"},Rs={class:"flex-1 overflow-hidden"},rl={__name:"TimeEntries",props:{timeEntries:Array,counts:Object,projects:Array,projectSummary:Array,filters:Object},setup(n){const g=n,h=Z(null),y=Z(!1),$=Z(null),s=Z(!1),b=Z(null),v=Z(!1),m=Z(!1);function o(x){h.value=x}function r(){$.value=null,y.value=!0}function c(x){$.value=x,y.value=!0}function C(){y.value=!1,$.value=null}function U(x){b.value=x,s.value=!0}function ie(){b.value&&k.delete(route("time-entries.destroy",b.value.id),{preserveScroll:!0,onSuccess:()=>{h.value=null}}),s.value=!1,b.value=null}function ae(){s.value=!1,b.value=null}function de(){h.value=null}const G=w(()=>[{label:"All Entries",type:null,icon:K,count:g.counts.all},{label:"Open",type:"open",icon:F,count:g.counts.open},{label:"Processed",type:"processed",icon:B,count:g.counts.processed},{label:"Billable",type:"billable",icon:N,count:g.counts.billable}]),z=w(()=>g.filters?.billable===!0||g.filters?.billable==="1"?"billable":g.filters?.status||null);function O(x){let i={};x.type==="billable"?i.billable=1:x.type&&(i.status=x.type),v.value=!1,k.get(route("time-entries.index"),i,{preserveState:!0,preserveScroll:!0})}function q(x){v.value=!1,m.value=!1,g.filters?.project===x?k.get(route("time-entries.index"),{},{preserveState:!0,preserveScroll:!0}):k.get(route("time-entries.index"),{project:x},{preserveState:!0,preserveScroll:!0})}function ue(){k.get(route("time-entries.index"),{},{preserveState:!0,preserveScroll:!0})}const L=w(()=>h.value&&g.timeEntries.find(x=>x.id===h.value.id)||null);function D(x){if(!x)return"0h";const i=Math.floor(x/60),a=x%60;return i===0?`${a}m`:a===0?`${i}h`:`${i}h ${a}m`}const W=w(()=>g.timeEntries.reduce((x,i)=>x+(i.actual_minutes||0),0)),ce=w(()=>g.timeEntries.reduce((x,i)=>x+(i.estimated_minutes||0),0));return(x,i)=>(l(),d(V,null,[u(t(ge),{title:"Time Entries"}),e("div",us,[e("div",cs,[e("div",ms,[L.value?(l(),j(t(A),{key:0,variant:"ghost",size:"icon",class:"h-8 w-8",onClick:de},{default:p(()=>[u(t(_e),{class:"h-4 w-4 text-foreground",weight:"thin"})]),_:1})):(l(),j(t(A),{key:1,variant:"ghost",size:"icon",class:"h-8 w-8",onClick:i[0]||(i[0]=a=>v.value=!0)},{default:p(()=>[u(t(K),{class:"h-4 w-4 text-foreground",weight:"thin"})]),_:1})),e("div",fs,f(D(W.value))+" tracked",1),e("div",gs,[u(t(A),{variant:"ghost",size:"icon",class:"h-8 w-8",onClick:r},{default:p(()=>[u(t(Q),{class:"h-4 w-4 text-foreground",weight:"thin"})]),_:1})])]),e("div",xs,[L.value?(l(),j(se,{key:1,timeEntry:L.value,onEdit:c,onDelete:U},null,8,["timeEntry"])):(l(),j(te,{key:0,timeEntries:n.timeEntries,filters:n.filters,selectedId:L.value?.id,onSelect:o},null,8,["timeEntries","filters","selectedId"]))]),v.value?(l(),d("div",hs,[e("div",{class:"absolute inset-0 bg-black/70",onClick:i[1]||(i[1]=a=>v.value=!1)}),e("div",bs,[e("div",vs,[u(t(A),{variant:"ghost",size:"icon",class:"h-8 w-8",onClick:i[2]||(i[2]=a=>v.value=!1)},{default:p(()=>[u(t(Ee),{class:"h-4 w-4 text-foreground",weight:"thin"})]),_:1}),e("div",ps,[e("button",{onClick:i[3]||(i[3]=a=>{v.value=!1,t(k).get(x.route("dashboard"))}),class:"flex items-center gap-1.5 px-2 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors"},[u(t(R),{class:"h-4 w-4",weight:"thin"}),i[10]||(i[10]=S(" Entries ",-1))]),e("button",{onClick:i[4]||(i[4]=a=>{v.value=!1,t(k).get(x.route("tasks.index"))}),class:"flex items-center gap-1.5 px-2 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors"},[u(t(X),{class:"h-4 w-4",weight:"thin"}),i[11]||(i[11]=S(" Tasks ",-1))])])]),e("div",ys,[e("div",ws,[(l(!0),d(V,null,H(G.value,a=>(l(),d("button",{key:a.label,onClick:T=>O(a),class:_(["flex w-full items-center gap-2 rounded-md px-1.5 py-1.5 text-left text-sm transition-all",z.value===a.type?"text-amber-600 dark:text-violet-400":"text-muted-foreground hover:bg-secondary hover:text-foreground"])},[(l(),j(P(a.icon),{class:_(["h-3.5 w-3.5 shrink-0",z.value===a.type?"text-amber-600 dark:text-violet-400":"text-foreground"]),weight:"thin"},null,8,["class"])),e("span",ks,f(a.label),1),e("span",_s,f(a.count),1)],10,$s))),128))]),n.projects.length?(l(),d("div",Es,[i[12]||(i[12]=e("div",{class:"text-xs font-semibold uppercase tracking-wide text-muted-foreground"},"Projects",-1)),(l(!0),d(V,null,H(n.projects,a=>(l(),d("button",{key:a.name,onClick:T=>q(a.name),class:_(["flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-sm transition-all",n.filters?.project===a.name?"bg-amber-400/10 text-amber-500":"text-muted-foreground hover:bg-secondary/50 hover:text-foreground"])},[e("span",Vs,f(a.name),1),e("span",js,f(a.count),1)],10,Cs))),128))])):E("",!0),e("button",{type:"button",class:"inline-flex items-center gap-1.5 rounded-md px-2 py-1 text-xs text-muted-foreground transition-colors hover:bg-secondary/50 hover:text-foreground",onClick:i[5]||(i[5]=a=>t(k).post(x.route("logout")))},[u(t(Y),{class:"h-3.5 w-3.5",weight:"thin"}),i[13]||(i[13]=e("span",null,"Log out",-1))])])])])):E("",!0)])]),e("div",As,[e("div",Ss,[i[14]||(i[14]=e("div",{class:"mb-4"},[e("svg",{width:"20",height:"15",viewBox:"0 0 379 265",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M179.138 265L24.2363 19.7487H0V0H201.618V19.7487H184.407C179.958 19.7487 176.211 21.5858 173.167 25.26C170.357 28.9341 168.952 33.9861 168.952 40.4159C168.952 45.3148 170.123 51.1323 172.464 57.8683C175.04 64.2981 179.138 71.1872 184.758 78.5355L239.553 151.101L278.191 97.3657C282.64 91.2421 285.801 85.2715 287.675 79.4541C289.782 73.3304 290.836 67.3599 290.836 61.5425C290.836 49.9076 286.504 40.1098 277.84 32.149C269.41 23.8821 257.467 19.7487 242.012 19.7487H219.181V0H379V19.7487H359.681L190.378 265H179.138ZM185.812 242.036L196.349 227.34L65.684 19.7487H45.6626L185.812 242.036Z",fill:"currentColor"})])],-1)),e("div",Hs,[e("button",{onClick:i[6]||(i[6]=a=>t(k).get(x.route("dashboard"))),class:"flex h-10 w-10 items-center justify-center rounded-lg text-muted-foreground hover:bg-secondary hover:text-foreground transition-all"},[u(t(R),{class:"h-5 w-5 text-foreground",weight:"thin"})]),e("button",{onClick:i[7]||(i[7]=a=>t(k).get(x.route("tasks.index"))),class:"flex h-10 w-10 items-center justify-center rounded-lg text-muted-foreground hover:bg-secondary hover:text-foreground transition-all"},[u(t(X),{class:"h-5 w-5 text-foreground",weight:"thin"})]),e("button",Ms,[u(t(Ce),{class:"h-5 w-5 text-amber-600 dark:text-violet-400",weight:"thin"})])]),e("nav",Ls,[(l(!0),d(V,null,H(G.value,a=>(l(),d("button",{key:a.label,onClick:T=>O(a),class:_(["flex h-10 w-10 items-center justify-center rounded-lg transition-all",z.value===a.type?"bg-amber-500/20 text-amber-600 dark:bg-violet-500/15 dark:text-violet-400":"text-muted-foreground hover:bg-secondary hover:text-foreground"]),title:a.label+" ("+a.count+")"},[(l(),j(P(a.icon),{class:_(["h-5 w-5",z.value===a.type?"text-amber-600 dark:text-violet-400":"text-foreground"]),weight:"thin"},null,8,["class"]))],10,Zs))),128)),e("button",{onClick:i[8]||(i[8]=a=>m.value=!m.value),class:_(["flex h-10 w-10 items-center justify-center rounded-lg transition-all",m.value||n.filters?.project?"bg-amber-500/20 text-amber-600 dark:bg-violet-500/15 dark:text-violet-400":"text-muted-foreground hover:bg-secondary hover:text-foreground"]),title:"Filter by project"},[u(t(ee),{class:_(["h-5 w-5",m.value||n.filters?.project?"text-amber-600 dark:text-violet-400":"text-foreground"]),weight:"thin"},null,8,["class"])],2)]),i[15]||(i[15]=e("div",{class:"flex-1"},null,-1)),u(t(A),{variant:"ghost",size:"icon",class:"h-10 w-10",onClick:r,title:"New Time Entry"},{default:p(()=>[u(t(Q),{class:"h-5 w-5 text-foreground",weight:"thin"})]),_:1})]),m.value&&n.projects.length?(l(),d("div",Ds,[e("div",zs,[u(t(ee),{class:"h-4 w-4 text-muted-foreground",weight:"thin"}),i[16]||(i[16]=e("span",{class:"text-xs font-semibold tracking-tight text-muted-foreground uppercase"},"Projects",-1))]),u(t(re),{class:"h-[calc(100%-50px)]"},{default:p(()=>[e("div",Is,[n.filters?.project?(l(),d("button",{key:0,onClick:ue,class:"flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-sm text-muted-foreground hover:bg-secondary/50 mb-1"}," Clear filter ")):E("",!0),(l(!0),d(V,null,H(n.projects,a=>(l(),d("button",{key:a.name,onClick:T=>q(a.name),class:_(["flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-sm transition-all",n.filters?.project===a.name?"bg-amber-400/10 text-amber-500":"text-muted-foreground hover:bg-secondary/50 hover:text-foreground"])},[e("span",Ts,f(a.name),1),e("span",Bs,f(a.count),1)],10,Ps))),128))])]),_:1})])):E("",!0),u(te,{timeEntries:n.timeEntries,filters:n.filters,selectedId:L.value?.id,onSelect:o},null,8,["timeEntries","filters","selectedId"]),e("div",Fs,[e("div",Ns,[e("div",Us,f(g.counts.all)+" entries · "+f(D(W.value))+" actual · "+f(D(ce.value))+" estimated ",1),u(t(A),{variant:"ghost",size:"icon",class:"h-8 w-8",onClick:i[9]||(i[9]=a=>t(k).post(x.route("logout")))},{default:p(()=>[u(t(Y),{class:"h-4 w-4 text-foreground",weight:"thin"})]),_:1})]),!L.value&&n.projectSummary.length?(l(),d("div",Gs,[i[17]||(i[17]=e("h3",{class:"text-xs font-semibold uppercase tracking-wide text-muted-foreground mb-3"},"Project Summary",-1)),e("div",Os,[(l(!0),d(V,null,H(n.projectSummary,a=>(l(),d("div",{key:a.project,class:"flex items-center justify-between rounded-lg bg-secondary/30 px-3 py-2"},[e("div",null,[e("div",qs,f(a.project),1),e("div",Ws,f(a.entry_count)+" entries",1)]),e("div",Js,[e("div",Ks,f(D(a.total_actual_minutes)),1),e("div",Qs,f(D(a.total_estimated_minutes))+" est",1)])]))),128))])])):E("",!0),e("div",Rs,[u(se,{timeEntry:L.value,onEdit:c,onDelete:U},null,8,["timeEntry"])])])]),u(ds,{open:y.value,timeEntry:$.value,projects:n.projects,onClose:C},null,8,["open","timeEntry","projects"]),u(Ve,{open:s.value,title:"Delete time entry",description:'This will permanently delete this time entry for "'+(b.value?.project||"")+'". This action cannot be undone.',confirmText:"Delete",variant:"destructive",onConfirm:ie,onCancel:ae},null,8,["open","description"])],64))}};export{rl as default};
