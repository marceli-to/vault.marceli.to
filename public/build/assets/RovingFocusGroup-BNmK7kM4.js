import{p as T,c as k,b as q}from"./PhSignOut.vue-CPmRuaTr.js";import{r as D,u as $,S as C,a as B,P as L}from"./index-Cl-CrpSx.js";import{k as b,E as A,Q as U,I as G,p as x,N as z,R as F,y as K,S as j,D as Y,o as W,c as H,w as R,a as Q,b as E,r as J}from"./app-BDj6--c4.js";function de(e){const t=D("",1e3);return{search:t,handleTypeaheadSearch:(r,m)=>{t.value=t.value+r;{const c=T(),v=m.map(n=>({...n,textValue:n.value?.textValue??n.ref.textContent?.trim()??""})),f=v.find(n=>n.ref===c),i=v.map(n=>n.textValue),l=Z(i,t.value,f?.textValue),s=v.find(n=>n.textValue===l);return s&&s.ref.focus(),s?.ref}},resetTypeahead:()=>{t.value=""}}}function X(e,t){return e.map((a,o)=>e[(t+o)%e.length])}function Z(e,t,a){const r=t.length>1&&Array.from(t).every(i=>i===t[0])?t[0]:t,m=a?e.indexOf(a):-1;let c=X(e,Math.max(m,0));r.length===1&&(c=c.filter(i=>i!==a));const f=c.find(i=>i.toLowerCase().startsWith(r.toLowerCase()));return f!==a?f:void 0}function _(){const e=A(),t=b(()=>["#text","#comment"].includes(e.value?.$el.nodeName)?e.value?.$el.nextElementSibling:$(e));return{primitiveElement:e,currentElement:t}}const M="data-reka-collection-item";function ee(e={}){const{key:t="",isProvider:a=!1}=e,o=`${t}CollectionProvider`;let r;if(a){const l=A(new Map);r={collectionRef:A(),itemMap:l},U(o,r)}else r=G(o);const m=(l=!1)=>{const s=r.collectionRef.value;if(!s)return[];const n=Array.from(s.querySelectorAll(`[${M}]`)),u=Array.from(r.itemMap.value.values()).sort((h,S)=>n.indexOf(h.ref)-n.indexOf(S.ref));return l?u:u.filter(h=>h.ref.dataset.disabled!=="")},c=x({name:"CollectionSlot",inheritAttrs:!1,setup(l,{slots:s,attrs:n}){const{primitiveElement:g,currentElement:u}=_();return K(u,()=>{r.collectionRef.value=u.value}),()=>F(C,{ref:g,...n},s)}}),v=x({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(l,{slots:s,attrs:n}){const{primitiveElement:g,currentElement:u}=_();return z(h=>{if(u.value){const S=j(u.value);r.itemMap.value.set(S,{ref:u.value,value:l.value}),h(()=>r.itemMap.value.delete(S))}}),()=>F(C,{...n,[M]:"",ref:g},s)}}),f=b(()=>Array.from(r.itemMap.value.values())),i=b(()=>r.itemMap.value.size);return{getItems:m,reactiveItems:f,itemMapSize:i,CollectionSlot:c,CollectionItem:v}}const te="rovingFocusGroup.onEntryFocus",oe={bubbles:!1,cancelable:!0},ne={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function re(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function fe(e,t,a){const o=re(e.key,a);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return ne[o]}function ae(e,t=!1){const a=T();for(const o of e)if(o===a||(o.focus({preventScroll:t}),T()!==a))return}function pe(e,t){return e.map((a,o)=>e[(t+o)%e.length])}const[ve,se]=k("RovingFocusGroup");var ie=x({__name:"RovingFocusGroup",props:{orientation:{type:String,required:!1,default:void 0},dir:{type:String,required:!1},loop:{type:Boolean,required:!1,default:!1},currentTabStopId:{type:[String,null],required:!1},defaultCurrentTabStopId:{type:String,required:!1},preventScrollOnEntryFocus:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["entryFocus","update:currentTabStopId"],setup(e,{expose:t,emit:a}){const o=e,r=a,{loop:m,orientation:c,dir:v}=Y(o),f=q(v),i=B(o,"currentTabStopId",r,{defaultValue:o.defaultCurrentTabStopId,passive:o.currentTabStopId===void 0}),l=A(!1),s=A(!1),n=A(0),{getItems:g,CollectionSlot:u}=ee({isProvider:!0});function h(d){const w=!s.value;if(d.currentTarget&&d.target===d.currentTarget&&w&&!l.value){const I=new CustomEvent(te,oe);if(d.currentTarget.dispatchEvent(I),r("entryFocus",I),!I.defaultPrevented){const y=g().map(p=>p.ref).filter(p=>p.dataset.disabled!==""),O=y.find(p=>p.getAttribute("data-active")===""),N=y.find(p=>p.getAttribute("data-highlighted")===""),P=y.find(p=>p.id===i.value),V=[O,N,P,...y].filter(Boolean);ae(V,o.preventScrollOnEntryFocus)}}s.value=!1}function S(){setTimeout(()=>{s.value=!1},1)}return t({getItems:g}),se({loop:m,dir:f,orientation:c,currentTabStopId:i,onItemFocus:d=>{i.value=d},onItemShiftTab:()=>{l.value=!0},onFocusableItemAdd:()=>{n.value++},onFocusableItemRemove:()=>{n.value--}}),(d,w)=>(W(),H(E(u),null,{default:R(()=>[Q(E(L),{tabindex:l.value||n.value===0?-1:0,"data-orientation":E(c),as:d.as,"as-child":d.asChild,dir:E(f),style:{outline:"none"},onMousedown:w[0]||(w[0]=I=>s.value=!0),onMouseup:S,onFocus:h,onBlur:w[1]||(w[1]=I=>l.value=!1)},{default:R(()=>[J(d.$slots,"default")]),_:3},8,["tabindex","data-orientation","as","as-child","dir"])]),_:3}))}}),me=ie;export{me as R,_ as a,de as b,ae as f,fe as g,ve as i,ee as u,pe as w};
