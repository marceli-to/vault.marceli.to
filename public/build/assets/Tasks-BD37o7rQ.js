import{m as F,E as M,o as s,g as a,r as P,i as Z,C as U,k as b,d as e,t as m,a as i,w as y,G as T,H as j,n as C,c as D,F as N,b as o,f as V,I,u as ee,q as W,e as te,h as se,x as L}from"./app-DcdwXquP.js";import{c as E,_ as oe}from"./NavSidebar-GmOmwV6l.js";import{H as O,n as G,_ as le,G as ae,a as ne,b as re,d as ie,e as de,f as ue,g as ce,h as fe,i as ge,j as me,k as Y,I as pe,F as he,J as ve,m as xe}from"./ConfirmDialog-im05l2OT.js";import{G as be,I as ke}from"./PhClock.vue-CSxCVdEr.js";import{_ as S}from"./index-B2ElNip0.js";import{_ as J}from"./Input-CAVzji94.js";import{F as K}from"./PhSignOut.vue-BT6S2Nuy.js";import"./PopperContent-BjEB8vr_.js";const we=["width","height","fill","transform"],ye={key:0},$e=e("path",{d:"M208.49,152.49l-72,72a12,12,0,0,1-17,0l-72-72a12,12,0,0,1,17-17L116,187V40a12,12,0,0,1,24,0V187l51.51-51.52a12,12,0,0,1,17,17Z"},null,-1),_e=[$e],Ce={key:1},Me=e("path",{d:"M200,144l-72,72L56,144Z",opacity:"0.2"},null,-1),He=e("path",{d:"M207.39,140.94A8,8,0,0,0,200,136H136V40a8,8,0,0,0-16,0v96H56a8,8,0,0,0-5.66,13.66l72,72a8,8,0,0,0,11.32,0l72-72A8,8,0,0,0,207.39,140.94ZM128,204.69,75.31,152H180.69Z"},null,-1),Ve=[Me,He],De={key:2},Se=e("path",{d:"M205.66,149.66l-72,72a8,8,0,0,1-11.32,0l-72-72A8,8,0,0,1,56,136h64V40a8,8,0,0,1,16,0v96h64a8,8,0,0,1,5.66,13.66Z"},null,-1),Ze=[Se],ze={key:3},Ae=e("path",{d:"M204.24,148.24l-72,72a6,6,0,0,1-8.48,0l-72-72a6,6,0,0,1,8.48-8.48L122,201.51V40a6,6,0,0,1,12,0V201.51l61.76-61.75a6,6,0,0,1,8.48,8.48Z"},null,-1),Le=[Ae],Ie={key:4},Te=e("path",{d:"M205.66,149.66l-72,72a8,8,0,0,1-11.32,0l-72-72a8,8,0,0,1,11.32-11.32L120,196.69V40a8,8,0,0,1,16,0V196.69l58.34-58.35a8,8,0,0,1,11.32,11.32Z"},null,-1),je=[Te],Ne={key:5},Be=e("path",{d:"M202.83,146.83l-72,72a4,4,0,0,1-5.66,0l-72-72a4,4,0,0,1,5.66-5.66L124,206.34V40a4,4,0,0,1,8,0V206.34l65.17-65.17a4,4,0,0,1,5.66,5.66Z"},null,-1),Fe=[Be],Pe={name:"PhArrowDown"},Ue=F({...Pe,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(l){const r=l,d=M("weight","regular"),v=M("size","1em"),k=M("color","currentColor"),w=M("mirrored",!1),t=b(()=>r.weight??d),p=b(()=>r.size??v),f=b(()=>r.color??k),u=b(()=>r.mirrored!==void 0?r.mirrored?"scale(-1, 1)":void 0:w?"scale(-1, 1)":void 0);return(n,g)=>(s(),a("svg",U({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:p.value,height:p.value,fill:f.value,transform:u.value},n.$attrs),[P(n.$slots,"default"),t.value==="bold"?(s(),a("g",ye,_e)):t.value==="duotone"?(s(),a("g",Ce,Ve)):t.value==="fill"?(s(),a("g",De,Ze)):t.value==="light"?(s(),a("g",ze,Le)):t.value==="regular"?(s(),a("g",Ie,je)):t.value==="thin"?(s(),a("g",Ne,Fe)):Z("",!0)],16,we))}}),Ee=["width","height","fill","transform"],Oe={key:0},Ge=e("path",{d:"M208.49,120.49a12,12,0,0,1-17,0L140,69V216a12,12,0,0,1-24,0V69L64.49,120.49a12,12,0,0,1-17-17l72-72a12,12,0,0,1,17,0l72,72A12,12,0,0,1,208.49,120.49Z"},null,-1),qe=[Ge],We={key:1},Ye=e("path",{d:"M200,112H56l72-72Z",opacity:"0.2"},null,-1),Je=e("path",{d:"M205.66,106.34l-72-72a8,8,0,0,0-11.32,0l-72,72A8,8,0,0,0,56,120h64v96a8,8,0,0,0,16,0V120h64a8,8,0,0,0,5.66-13.66ZM75.31,104,128,51.31,180.69,104Z"},null,-1),Ke=[Ye,Je],Qe={key:2},Re=e("path",{d:"M207.39,115.06A8,8,0,0,1,200,120H136v96a8,8,0,0,1-16,0V120H56a8,8,0,0,1-5.66-13.66l72-72a8,8,0,0,1,11.32,0l72,72A8,8,0,0,1,207.39,115.06Z"},null,-1),Xe=[Re],et={key:3},tt=e("path",{d:"M204.24,116.24a6,6,0,0,1-8.48,0L134,54.49V216a6,6,0,0,1-12,0V54.49L60.24,116.24a6,6,0,0,1-8.48-8.48l72-72a6,6,0,0,1,8.48,0l72,72A6,6,0,0,1,204.24,116.24Z"},null,-1),st=[tt],ot={key:4},lt=e("path",{d:"M205.66,117.66a8,8,0,0,1-11.32,0L136,59.31V216a8,8,0,0,1-16,0V59.31L61.66,117.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0l72,72A8,8,0,0,1,205.66,117.66Z"},null,-1),at=[lt],nt={key:5},rt=e("path",{d:"M202.83,114.83a4,4,0,0,1-5.66,0L132,49.66V216a4,4,0,0,1-8,0V49.66L58.83,114.83a4,4,0,0,1-5.66-5.66l72-72a4,4,0,0,1,5.66,0l72,72A4,4,0,0,1,202.83,114.83Z"},null,-1),it=[rt],dt={name:"PhArrowUp"},ut=F({...dt,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(l){const r=l,d=M("weight","regular"),v=M("size","1em"),k=M("color","currentColor"),w=M("mirrored",!1),t=b(()=>r.weight??d),p=b(()=>r.size??v),f=b(()=>r.color??k),u=b(()=>r.mirrored!==void 0?r.mirrored?"scale(-1, 1)":void 0:w?"scale(-1, 1)":void 0);return(n,g)=>(s(),a("svg",U({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:p.value,height:p.value,fill:f.value,transform:u.value},n.$attrs),[P(n.$slots,"default"),t.value==="bold"?(s(),a("g",Oe,qe)):t.value==="duotone"?(s(),a("g",We,Ke)):t.value==="fill"?(s(),a("g",Qe,Xe)):t.value==="light"?(s(),a("g",et,st)):t.value==="regular"?(s(),a("g",ot,at)):t.value==="thin"?(s(),a("g",nt,it)):Z("",!0)],16,Ee))}}),ct=["width","height","fill","transform"],ft={key:0},gt=e("path",{d:"M228,160a12,12,0,0,1-12,12H40a12,12,0,0,1,0-24H216A12,12,0,0,1,228,160ZM40,108H216a12,12,0,0,0,0-24H40a12,12,0,0,0,0,24Z"},null,-1),mt=[gt],pt={key:1},ht=e("path",{d:"M216,56V200a16,16,0,0,1-16,16H56a16,16,0,0,1-16-16V56A16,16,0,0,1,56,40H200A16,16,0,0,1,216,56Z",opacity:"0.2"},null,-1),vt=e("path",{d:"M224,160a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H216A8,8,0,0,1,224,160ZM40,104H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16Z"},null,-1),xt=[ht,vt],bt={key:2},kt=e("path",{d:"M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32ZM184,160H72a8,8,0,0,1,0-16H184a8,8,0,0,1,0,16Zm0-48H72a8,8,0,0,1,0-16H184a8,8,0,0,1,0,16Z"},null,-1),wt=[kt],yt={key:3},$t=e("path",{d:"M222,160a6,6,0,0,1-6,6H40a6,6,0,0,1,0-12H216A6,6,0,0,1,222,160ZM40,102H216a6,6,0,0,0,0-12H40a6,6,0,0,0,0,12Z"},null,-1),_t=[$t],Ct={key:4},Mt=e("path",{d:"M224,160a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H216A8,8,0,0,1,224,160ZM40,104H216a8,8,0,0,0,0-16H40a8,8,0,0,0,0,16Z"},null,-1),Ht=[Mt],Vt={key:5},Dt=e("path",{d:"M220,160a4,4,0,0,1-4,4H40a4,4,0,0,1,0-8H216A4,4,0,0,1,220,160ZM40,100H216a4,4,0,0,0,0-8H40a4,4,0,0,0,0,8Z"},null,-1),St=[Dt],Zt={name:"PhEquals"},zt=F({...Zt,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(l){const r=l,d=M("weight","regular"),v=M("size","1em"),k=M("color","currentColor"),w=M("mirrored",!1),t=b(()=>r.weight??d),p=b(()=>r.size??v),f=b(()=>r.color??k),u=b(()=>r.mirrored!==void 0?r.mirrored?"scale(-1, 1)":void 0:w?"scale(-1, 1)":void 0);return(n,g)=>(s(),a("svg",U({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:p.value,height:p.value,fill:f.value,transform:u.value},n.$attrs),[P(n.$slots,"default"),t.value==="bold"?(s(),a("g",ft,mt)):t.value==="duotone"?(s(),a("g",pt,xt)):t.value==="fill"?(s(),a("g",bt,wt)):t.value==="light"?(s(),a("g",yt,_t)):t.value==="regular"?(s(),a("g",Ct,Ht)):t.value==="thin"?(s(),a("g",Vt,St)):Z("",!0)],16,ct))}}),At={class:"flex h-full w-full flex-col border-b border-border bg-background md:w-[25rem] md:border-b-0 md:border-r"},Lt={class:"flex items-center justify-between px-4 border-b border-border h-[50px]"},It={class:"text-sm font-semibold tracking-tight"},Tt={class:"text-xs text-muted-foreground"},jt={class:"px-3 py-2"},Nt={class:"space-y-1"},Bt=["onClick"],Ft={class:"flex-1 min-w-0"},Pt={class:"flex items-center gap-2"},Ut={class:"flex items-center gap-2 mt-0.5 pl-3.5"},Et={key:0,class:"truncate text-xs text-muted-foreground"},Ot={key:1,class:"ml-auto shrink-0 text-[10px] text-muted-foreground/50"},Gt={key:0,class:"px-3 py-8 text-center text-sm text-muted-foreground"},Q={__name:"TaskList",props:{tasks:Array,selectedId:[Number,null],filters:Object},emits:["select"],setup(l,{emit:r}){const d=l,v=r,k={open:G,in_progress:E,done:O},w={open:"text-zinc-400",in_progress:"text-amber-400",done:"text-green-700 dark:text-green-500"},t={high:"bg-red-400",normal:"bg-zinc-500",low:"bg-zinc-700"},p=b(()=>d.filters?.tag?`Tagged: ${d.filters.tag}`:d.filters?.status==="open"?"Open":d.filters?.status==="in_progress"?"In Progress":d.filters?.status==="done"?"Done":d.filters?.priority?`${d.filters.priority.charAt(0).toUpperCase()+d.filters.priority.slice(1)} Priority`:"All Tasks"),f=b(()=>d.tasks.map(g=>({task:g,due:n(g.due_date)})));function u(g){const h=new Date,c=new Date(g),H=Math.floor((h-c)/6e4);return H<1?"just now":H<60?`${H}m ago`:H<1440?`${Math.floor(H/60)}h ago`:`${Math.floor(H/1440)}d ago`}function n(g){if(!g)return null;const h=new Date(g),c=new Date,H=new Date(c.getFullYear(),c.getMonth(),c.getDate()),B=new Date(h.getFullYear(),h.getMonth(),h.getDate()),z=Math.floor((B-H)/864e5);return z<0?{text:`${Math.abs(z)}d overdue`,class:"text-red-400"}:z===0?{text:"Today",class:"text-amber-400"}:z===1?{text:"Tomorrow",class:"text-amber-300"}:z<=7?{text:`${z}d`,class:"text-zinc-400"}:{text:h.toLocaleDateString("en-US",{month:"short",day:"numeric"}),class:"text-zinc-500"}}return(g,h)=>(s(),a("div",At,[e("div",Lt,[e("h2",It,m(p.value),1),e("span",Tt,m(l.tasks.length),1)]),i(o(le),{class:"flex-1"},{default:y(()=>[e("div",jt,[e("div",Nt,[(s(!0),a(T,null,j(f.value,c=>(s(),a("button",{key:c.task.id,onClick:H=>v("select",c.task),class:C(["flex w-full items-start gap-3 rounded-lg px-3 py-2.5 text-left transition-all",l.selectedId===c.task.id?"bg-amber-500/20 ring-1 ring-amber-500/30 dark:bg-violet-500/15 dark:ring-violet-400/25":"hover:bg-secondary/50"])},[(s(),D(N(k[c.task.status]),{class:C(["h-4 w-4 shrink-0 mt-0.5",w[c.task.status]]),weight:"thin"},null,8,["class"])),e("div",Ft,[e("div",Pt,[e("span",{class:C(["h-1.5 w-1.5 rounded-full shrink-0",t[c.task.priority]])},null,2),e("span",{class:C(["truncate text-sm font-medium",c.task.status==="done"?"line-through text-muted-foreground":""])},m(c.task.title),3)]),e("div",Ut,[c.task.description?(s(),a("span",Et,m(c.task.description.substring(0,50))+m(c.task.description.length>50?"…":""),1)):Z("",!0),c.due?Z("",!0):(s(),a("span",Ot,m(u(c.task.created_at)),1)),c.due?(s(),a("span",{key:2,class:C(["ml-auto shrink-0 text-[10px]",c.due.class])},m(c.due.text),3)):Z("",!0)])])],10,Bt))),128))]),l.tasks.length===0?(s(),a("div",Gt," No tasks found ")):Z("",!0)])]),_:1})]))}},qt={key:0,class:"flex h-full flex-col"},Wt={class:"flex flex-col gap-3 border-b border-border p-4 md:flex-row md:items-start md:justify-between md:gap-4 md:p-6 md:pb-4"},Yt={class:"flex-1 space-y-2"},Jt={class:"flex flex-wrap items-center gap-2"},Kt={key:0,class:"flex items-center gap-1 rounded-full px-2 py-0.5 text-xs font-medium text-muted-foreground bg-secondary/50"},Qt={class:"flex items-center gap-1 self-end md:self-auto"},Rt={class:"flex-1 overflow-auto p-4 md:p-6"},Xt={key:0,class:"prose prose-invert max-w-none whitespace-pre-wrap text-sm leading-relaxed text-foreground/90"},es={key:1,class:"text-sm text-muted-foreground/50 italic"},ts={class:"border-t border-border p-4"},ss={class:"flex items-center justify-start md:justify-end"},os={class:"flex items-center gap-3 text-xs text-muted-foreground"},ls={class:"flex items-center gap-1"},as={key:1,class:"flex h-full flex-col items-center justify-center text-muted-foreground"},R={__name:"TaskDetail",props:{task:Object},emits:["edit","delete","toggleStatus"],setup(l,{emit:r}){const d=l,v=r,k={open:"Open",in_progress:"In Progress",done:"Done"},w={open:"text-zinc-400 bg-zinc-400/10",in_progress:"text-amber-400 bg-amber-400/10",done:"text-green-700 dark:text-green-500 bg-green-400/10"},t={low:"Low",normal:"Normal",high:"High"},p={low:"text-zinc-400 bg-zinc-400/10",normal:"text-blue-400 bg-blue-400/10",high:"text-red-400 bg-red-400/10"};function f(g){return new Date(g).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}function u(g){return g?new Date(g).toLocaleDateString("en-US",{weekday:"short",month:"long",day:"numeric",year:"numeric"}):null}function n(){const g=["open","in_progress","done"],h=g.indexOf(d.task.status),c=g[(h+1)%g.length];I.put(route("tasks.update",d.task.id),{...d.task,status:c},{preserveScroll:!0})}return(g,h)=>l.task?(s(),a("div",qt,[e("div",Wt,[e("div",Yt,[e("div",Jt,[e("button",{onClick:n,class:"transition-transform hover:scale-110"},[e("span",{class:C(["rounded-full px-2 py-0.5 text-xs font-medium",w[l.task.status]])},m(k[l.task.status]),3)]),e("span",{class:C(["rounded-full px-2 py-0.5 text-xs font-medium",p[l.task.priority]])},m(t[l.task.priority]),3),l.task.due_date?(s(),a("span",Kt,[i(o(be),{class:"h-3 w-3",weight:"thin"}),V(" "+m(u(l.task.due_date)),1)])):Z("",!0)]),e("h1",{class:C(["text-lg font-semibold tracking-tight md:text-xl",l.task.status==="done"?"line-through text-muted-foreground":""])},m(l.task.title),3)]),e("div",Qt,[i(o(S),{variant:"ghost",size:"icon",class:"h-8 w-8",onClick:h[0]||(h[0]=c=>v("edit",l.task))},{default:y(()=>[i(o(ae),{class:"h-4 w-4 text-foreground",weight:"thin"})]),_:1}),i(o(S),{variant:"ghost",size:"icon",class:"h-8 w-8 text-red-600 hover:text-red-500 dark:text-red-400 dark:hover:text-red-300",onClick:h[1]||(h[1]=c=>v("delete",l.task))},{default:y(()=>[i(o(ne),{class:"h-4 w-4",weight:"thin"})]),_:1})])]),e("div",Rt,[l.task.description?(s(),a("div",Xt,m(l.task.description),1)):(s(),a("div",es," No description "))]),e("div",ts,[e("div",ss,[e("div",os,[e("span",ls,[i(o(ke),{class:"h-3 w-3 text-foreground",weight:"thin"}),V(" "+m(f(l.task.created_at)),1)])])])])])):(s(),a("div",as,[...h[2]||(h[2]=[e("p",{class:"text-sm"},"Select a task to view details",-1)])]))}},ns={class:"flex gap-2"},rs=["onClick"],is={class:"flex gap-2"},ds=["onClick"],us={__name:"TaskForm",props:{open:Boolean,task:{type:Object,default:null}},emits:["close"],setup(l,{emit:r}){const d=l,v=r,k=[{value:"open",label:"Open",icon:G,color:"text-muted-foreground bg-muted border-border"},{value:"in_progress",label:"In Progress",icon:E,color:"text-amber-300 bg-amber-400/10 border-amber-500/20"},{value:"done",label:"Done",icon:O,color:"text-amber-500 bg-amber-400/10 border-amber-500/20"}],w=[{value:"low",label:"Low",icon:Ue,color:"text-muted-foreground bg-muted border-border"},{value:"normal",label:"Normal",icon:zt,color:"text-blue-300 bg-blue-400/10 border-blue-500/20"},{value:"high",label:"High",icon:ut,color:"text-red-300 bg-red-400/10 border-red-500/20"}],t=ee({title:"",description:"",status:"open",priority:"normal",due_date:""});W(()=>d.task,f=>{f?(t.title=f.title||"",t.description=f.description||"",t.status=f.status||"open",t.priority=f.priority||"normal",t.due_date=f.due_date?f.due_date.substring(0,10):""):t.reset()},{immediate:!0}),W(()=>d.open,f=>{f&&(d.task||t.reset())});function p(){({...t.data(),due_date:t.due_date},d.task?t.put(route("tasks.update",d.task.id),{preserveScroll:!0,onSuccess:()=>v("close")}):t.post(route("tasks.store"),{preserveScroll:!0,onSuccess:()=>{t.reset(),v("close")}}))}return(f,u)=>(s(),D(o(ge),{open:l.open,"onUpdate:open":u[4]||(u[4]=n=>f.$emit("close"))},{default:y(()=>[i(o(re),{class:"w-[calc(100vw-1.5rem)] sm:w-full sm:max-w-lg"},{default:y(()=>[i(o(ie),null,{default:y(()=>[i(o(de),null,{default:y(()=>[V(m(l.task?"Edit Task":"New Task"),1)]),_:1}),i(o(ue),{class:"text-sm text-muted-foreground"},{default:y(()=>[V(m(l.task?"Update this task.":"Create a new task."),1)]),_:1})]),_:1}),e("form",{onSubmit:te(p,["prevent"]),class:"space-y-4"},[i(o(J),{modelValue:o(t).title,"onUpdate:modelValue":u[0]||(u[0]=n=>o(t).title=n),placeholder:"Task title"},null,8,["modelValue"]),i(o(ce),{modelValue:o(t).description,"onUpdate:modelValue":u[1]||(u[1]=n=>o(t).description=n),placeholder:"Description (optional)",class:"min-h-[80px] resize-none"},null,8,["modelValue"]),e("div",null,[u[5]||(u[5]=e("label",{class:"text-xs font-medium text-muted-foreground mb-1.5 block"},"Status",-1)),e("div",ns,[(s(),a(T,null,j(k,n=>e("button",{key:n.value,type:"button",onClick:g=>o(t).status=n.value,class:C(["flex items-center gap-1.5 rounded-lg border px-3 py-1.5 text-xs font-medium transition-all",o(t).status===n.value?n.color:"border-border text-muted-foreground hover:bg-secondary"])},[(s(),D(N(n.icon),{class:"h-3.5 w-3.5",weight:"thin"})),V(" "+m(n.label),1)],10,rs)),64))])]),e("div",null,[u[6]||(u[6]=e("label",{class:"text-xs font-medium text-muted-foreground mb-1.5 block"},"Priority",-1)),e("div",is,[(s(),a(T,null,j(w,n=>e("button",{key:n.value,type:"button",onClick:g=>o(t).priority=n.value,class:C(["flex items-center gap-1.5 rounded-lg border px-3 py-1.5 text-xs font-medium transition-all",o(t).priority===n.value?n.color:"border-border text-muted-foreground hover:bg-secondary"])},[(s(),D(N(n.icon),{class:"h-3.5 w-3.5",weight:"thin"})),V(" "+m(n.label),1)],10,ds)),64))])]),e("div",null,[u[7]||(u[7]=e("label",{class:"text-xs font-medium text-muted-foreground mb-1.5 block"},"Due date",-1)),i(o(J),{modelValue:o(t).due_date,"onUpdate:modelValue":u[2]||(u[2]=n=>o(t).due_date=n),type:"date"},null,8,["modelValue"])]),i(o(fe),{class:"pt-1 gap-3 sm:gap-3"},{default:y(()=>[i(o(S),{type:"button",variant:"outline",onClick:u[3]||(u[3]=n=>f.$emit("close"))},{default:y(()=>[...u[8]||(u[8]=[V("Cancel",-1)])]),_:1}),i(o(S),{type:"submit",disabled:o(t).processing||!o(t).title,class:"bg-amber-600 hover:bg-amber-700"},{default:y(()=>[V(m(l.task?"Update":"Create"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]))}},cs={class:"h-screen bg-background md:hidden"},fs={class:"flex h-full flex-col"},gs={class:"flex h-[50px] items-center justify-between border-b border-border px-2"},ms={class:"text-xs font-mono text-muted-foreground"},ps={class:"flex items-center gap-1"},hs={class:"flex-1 overflow-hidden"},vs={key:0,class:"fixed inset-0 z-50 md:hidden"},xs={class:"absolute inset-y-0 left-0 w-[86vw] max-w-sm border-r border-border bg-background p-4 overflow-y-auto"},bs={class:"-mx-4 -mt-4 mb-3 flex h-[50px] items-center justify-between border-b border-border px-2"},ks={class:"space-y-5"},ws={class:"space-y-2"},ys=["onClick"],$s={class:"truncate"},_s={class:"ml-auto text-xs opacity-60"},Cs={class:"hidden h-screen bg-background md:flex"},Ms={class:"flex flex-1 flex-col"},Hs={class:"flex items-center justify-between border-b border-border pl-6 pr-3 h-[50px]"},Vs={class:"text-xs text-muted-foreground font-mono"},Ds={class:"flex-1 overflow-hidden"},Bs={__name:"Tasks",props:{tasks:Array,counts:Object,filters:Object},setup(l){const r=l,d=L(null),v=L(!1),k=L(null),w=L(!1),t=L(null),p=L(!1);function f($){d.value=$}function u(){k.value=null,v.value=!0}function n($){k.value=$,v.value=!0}function g(){v.value=!1,k.value=null}function h($){t.value=$,w.value=!0}function c(){t.value&&I.delete(route("tasks.destroy",t.value.id),{preserveScroll:!0,onSuccess:()=>{d.value=null}}),w.value=!1,t.value=null}function H(){w.value=!1,t.value=null}function B(){d.value=null}const z=b(()=>[{label:"All Tasks",type:null,icon:Y,count:r.counts.all},{label:"Open",type:"open",icon:G,count:r.counts.open},{label:"In Progress",type:"in_progress",icon:E,count:r.counts.in_progress},{label:"Done",type:"done",icon:O,count:r.counts.done}]),q=b(()=>r.filters?.status||null);function X($){const x=$.type?{status:$.type}:{};p.value=!1,I.get(route("tasks.index"),x,{preserveState:!0,preserveScroll:!0})}const A=b(()=>d.value&&r.tasks.find($=>$.id===d.value.id)||null);return($,x)=>(s(),a(T,null,[i(o(se),{title:"Tasks"}),e("div",cs,[e("div",fs,[e("div",gs,[A.value?(s(),D(o(S),{key:0,variant:"ghost",size:"icon",class:"h-8 w-8",onClick:B},{default:y(()=>[i(o(me),{class:"h-4 w-4 text-foreground",weight:"thin"})]),_:1})):(s(),D(o(S),{key:1,variant:"ghost",size:"icon",class:"h-8 w-8",onClick:x[0]||(x[0]=_=>p.value=!0)},{default:y(()=>[i(o(Y),{class:"h-4 w-4 text-foreground",weight:"thin"})]),_:1})),e("div",ms,m(r.counts.open)+" open",1),e("div",ps,[i(o(S),{variant:"ghost",size:"icon",class:"h-8 w-8",onClick:u},{default:y(()=>[i(o(pe),{class:"h-4 w-4 text-foreground",weight:"thin"})]),_:1})])]),e("div",hs,[A.value?(s(),D(R,{key:1,task:A.value,onEdit:n,onDelete:h},null,8,["task"])):(s(),D(Q,{key:0,tasks:l.tasks,filters:l.filters,selectedId:A.value?.id,onSelect:f},null,8,["tasks","filters","selectedId"]))]),p.value?(s(),a("div",vs,[e("div",{class:"absolute inset-0 bg-black/70",onClick:x[1]||(x[1]=_=>p.value=!1)}),e("div",xs,[e("div",bs,[i(o(S),{variant:"ghost",size:"icon",class:"h-8 w-8",onClick:x[2]||(x[2]=_=>p.value=!1)},{default:y(()=>[i(o(he),{class:"h-4 w-4 text-foreground",weight:"thin"})]),_:1}),e("button",{onClick:x[3]||(x[3]=_=>{p.value=!1,o(I).get($.route("dashboard"))}),class:"flex items-center gap-1.5 px-2 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors"},[i(o(ve),{class:"h-4 w-4",weight:"thin"}),x[6]||(x[6]=V(" Entries ",-1))])]),e("div",ks,[e("div",ws,[(s(!0),a(T,null,j(z.value,_=>(s(),a("button",{key:_.label,onClick:Ss=>X(_),class:C(["flex w-full items-center gap-2 rounded-md px-1.5 py-1.5 text-left text-sm transition-all",q.value===_.type?"text-amber-600 dark:text-violet-400":"text-muted-foreground hover:bg-secondary hover:text-foreground"])},[(s(),D(N(_.icon),{class:C(["h-3.5 w-3.5 shrink-0",q.value===_.type?"text-amber-600 dark:text-violet-400":"text-foreground"]),weight:"thin"},null,8,["class"])),e("span",$s,m(_.label),1),e("span",_s,m(_.count),1)],10,ys))),128))]),e("button",{type:"button",class:"inline-flex items-center gap-1.5 rounded-md px-2 py-1 text-xs text-muted-foreground transition-colors hover:bg-secondary/50 hover:text-foreground",onClick:x[4]||(x[4]=_=>o(I).post($.route("logout")))},[i(o(K),{class:"h-3.5 w-3.5",weight:"thin"}),x[7]||(x[7]=e("span",null,"Log out",-1))])])])])):Z("",!0)])]),e("div",Cs,[i(oe,{counts:r.counts,filters:l.filters,page:"tasks",onCreate:u},null,8,["counts","filters"]),i(Q,{tasks:l.tasks,filters:l.filters,selectedId:A.value?.id,onSelect:f},null,8,["tasks","filters","selectedId"]),e("div",Ms,[e("div",Hs,[e("div",Vs,m(r.counts.all)+" tasks · "+m(r.counts.open)+" open ",1),i(o(S),{variant:"ghost",size:"icon",class:"h-8 w-8",onClick:x[5]||(x[5]=_=>o(I).post($.route("logout")))},{default:y(()=>[i(o(K),{class:"h-4 w-4 text-foreground",weight:"thin"})]),_:1})]),e("div",Ds,[i(R,{task:A.value,onEdit:n,onDelete:h},null,8,["task"])])])]),i(us,{open:v.value,task:k.value,onClose:g},null,8,["open","task"]),i(xe,{open:w.value,title:"Delete task",description:'This will permanently delete "'+(t.value?.title||"this task")+'". This action cannot be undone.',confirmText:"Delete",variant:"destructive",onConfirm:c,onCancel:H},null,8,["open","description"])],64))}};export{Bs as default};
