import{k as q,b as e,m as Y,p as Xe,q as J,s as ie,o as u,c as A,w as x,r as M,i as T,x as E,a as v,y as te,e as de,z as Qe,A as pe,B as me,C as P,D as et,E as U,g as b,d,n as N,F as _e,t as S,G as R,H as W,I as z,u as tt,f as H,J as nt,K as at,L as lt,h as st}from"./app-DcdwXquP.js";import{G as ke,a as Ce,b as $e,H as Le,I as ot,_ as rt}from"./NavSidebar-GmOmwV6l.js";import{_ as it,G as ut,a as dt,c as ct,b as De,d as ft,e as pt,f as Pe,g as mt,h as gt,i as Ke,j as ht,k as vt,I as yt,F as bt,l as xt,m as wt,J as _t}from"./ConfirmDialog-im05l2OT.js";import{u as Re,P as X,c as be,r as kt,_ as D,a as ne,b as ae,d as Ct}from"./index-B2ElNip0.js";import{_ as xe}from"./Input-CAVzji94.js";import{i as we,V as $t,u as Lt,_ as At}from"./Checkbox--DbxHV5H.js";import{c as ce,u as St,a as ge,b as Et,h as qt,d as Ae,e as Oe,F as Ie}from"./PhSignOut.vue-BT6S2Nuy.js";import{u as Vt}from"./useTypeahead-BqaeqazY.js";import{u as Se,a as ze,g as Ft}from"./RovingFocusGroup-D2-10MLM.js";import"./PopperContent-BjEB8vr_.js";function Bt(t,o,a){const r=t.findIndex(s=>we(s,o)),f=t.findIndex(s=>we(s,a));if(r===-1||f===-1)return[];const[l,n]=[r,f].sort((s,c)=>s-c);return t.slice(l,n+1)}function It(t){const o=q(()=>e(t)),a=q(()=>new Intl.Collator("en",{usage:"search",...o.value}));return{startsWith:(n,s)=>s.length===0?!0:(n=n.normalize("NFC"),s=s.normalize("NFC"),a.value.compare(n.slice(0,s.length),s)===0),endsWith:(n,s)=>s.length===0?!0:(n=n.normalize("NFC"),s=s.normalize("NFC"),a.value.compare(n.slice(-s.length),s)===0),contains:(n,s)=>{if(s.length===0)return!0;n=n.normalize("NFC"),s=s.normalize("NFC");let c=0;const y=s.length;for(;c+y<=n.length;c++){const g=n.slice(c,c+y);if(a.value.compare(s,g)===0)return!0}return!1}}}function Tt(){return{ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",SPACE_CODE:"Space"}}function Mt(t,o,a){return t===void 0?!1:Array.isArray(t)?t.some(r=>ue(r,o,a)):ue(t,o,a)}function ue(t,o,a){return t===void 0||o===void 0?!1:typeof t=="string"?t===o:typeof a=="function"?a(t,o):typeof a=="string"?t?.[a]===o?.[a]:we(t,o)}const[Ee,Ht]=ce("ListboxRoot");var Dt=Y({__name:"ListboxRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},orientation:{type:String,required:!1,default:"vertical"},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1,default:"toggle"},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(t,{expose:o,emit:a}){const r=t,f=a,{multiple:l,highlightOnHover:n,orientation:s,disabled:c,selectionBehavior:y,dir:g}=Xe(r),{getItems:p}=Se({isProvider:!0}),{handleTypeaheadSearch:i}=Vt(),{primitiveElement:$,currentElement:h}=ze(),V=Tt(),Z=St(g),ve=Lt(h),Q=E(),G=E(!1),le=E(!0),F=Re(r,"modelValue",f,{defaultValue:r.defaultValue??(l.value?[]:void 0),passive:r.modelValue===void 0,deep:!0});function fe(m){if(G.value=!0,r.multiple){const _=Array.isArray(F.value)?[...F.value]:[],C=_.findIndex(B=>ue(B,m,r.by));r.selectionBehavior==="toggle"?(C===-1?_.push(m):_.splice(C,1),F.value=_):(F.value=[m],Q.value=m)}else r.selectionBehavior==="toggle"&&ue(F.value,m,r.by)?F.value=void 0:F.value=m;setTimeout(()=>{G.value=!1},1)}const I=E(null),se=E(null),j=E(!1),K=E(!1),L=be(),w=be(),k=be();function oe(){return p().map(m=>m.ref).filter(m=>m.dataset.disabled!=="")}function O(m,_=!0){if(!m)return;I.value=m,le.value&&I.value.focus(),_&&I.value.scrollIntoView({block:"nearest"});const C=p().find(B=>B.ref===m);f("highlight",C)}function Ne(m){if(j.value)k.trigger(m);else{const _=p().find(C=>ue(C.value,m,r.by));_&&(I.value=_.ref,O(_.ref))}}function Ze(m){I.value&&I.value.isConnected&&(m.preventDefault(),m.stopPropagation(),K.value||I.value.click())}function Ge(m){if(le.value){if(G.value=!0,j.value)w.trigger(m);else{const _=m.altKey||m.ctrlKey||m.metaKey;if(_&&m.key==="a"&&l.value){const C=p(),B=C.map(ee=>ee.value);F.value=[...B],m.preventDefault(),O(C[C.length-1].ref)}else if(!_){const C=i(m.key,p());C&&O(C)}}setTimeout(()=>{G.value=!1},1)}}function je(){K.value=!0}function Ue(){ie(()=>{K.value=!1})}function Ve(){ie(()=>{const m=new KeyboardEvent("keydown",{key:"PageUp"});Fe(m)})}function ye(m){const _=I.value;_?.isConnected&&(se.value=_),I.value=null,f("leave",m)}function We(m){const _=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if(m.currentTarget?.dispatchEvent(_),f("entryFocus",_),!_.defaultPrevented)if(se.value)O(se.value);else{const C=oe()?.[0];O(C)}}function Fe(m){const _=Ft(m,s.value,Z.value);if(!_)return;let C=oe();if(I.value){if(_==="last")C.reverse();else if(_==="prev"||_==="next"){_==="prev"&&C.reverse();const B=C.indexOf(I.value);C=C.slice(B+1)}Ye(m,C[0])}if(C.length){const B=!I.value&&_==="prev"?C.length-1:0;O(C[B])}if(j.value)return w.trigger(m)}function Ye(m,_){if(!(j.value||r.selectionBehavior!=="replace"||!l.value||!Array.isArray(F.value)||(m.altKey||m.ctrlKey||m.metaKey)&&!m.shiftKey)&&m.shiftKey){const B=p().filter(re=>re.ref.dataset.disabled!=="");let ee=B.find(re=>re.ref===_)?.value;if(m.key===V.END?ee=B[B.length-1].value:m.key===V.HOME&&(ee=B[0].value),!ee||!Q.value)return;const Je=Bt(B.map(re=>re.value),Q.value,ee);F.value=Je}}async function Be(m){if(await ie(),j.value)L.trigger(m);else{const _=oe(),C=_.find(B=>B.dataset.state==="checked");C?O(C):_.length&&O(_[0])}}return J(F,()=>{G.value||ie(()=>{Be()})},{immediate:!0,deep:!0}),o({highlightedElement:I,highlightItem:Ne,highlightFirstItem:Ve,highlightSelected:Be,getItems:p}),Ht({modelValue:F,onValueChange:fe,multiple:l,orientation:s,dir:Z,disabled:c,highlightOnHover:n,highlightedElement:I,isVirtual:j,virtualFocusHook:L,virtualKeydownHook:w,virtualHighlightHook:k,by:r.by,firstValue:Q,selectionBehavior:y,focusable:le,onLeave:ye,onEnter:We,changeHighlight:O,onKeydownEnter:Ze,onKeydownNavigation:Fe,onKeydownTypeAhead:Ge,onCompositionStart:je,onCompositionEnd:Ue,highlightFirstItem:Ve}),(m,_)=>(u(),A(e(X),{ref_key:"primitiveElement",ref:$,as:m.as,"as-child":m.asChild,dir:e(Z),"data-disabled":e(c)?"":void 0,onPointerleave:ye,onFocusout:_[0]||(_[0]=async C=>{const B=C.relatedTarget||C.target;await ie(),I.value&&e(h)&&!e(h).contains(B)&&ye(C)})},{default:x(()=>[M(m.$slots,"default",{modelValue:e(F)}),e(ve)&&m.name?(u(),A(e($t),{key:0,name:m.name,value:e(F),disabled:e(c),required:m.required},null,8,["name","value","disabled","required"])):T("v-if",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),Pt=Dt,Kt=Y({__name:"ListboxContent",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const{CollectionSlot:o}=Se(),a=Ee(),r=kt(!1,10);return(f,l)=>(u(),A(e(o),null,{default:x(()=>[v(e(X),{role:"listbox",as:f.as,"as-child":f.asChild,tabindex:e(a).focusable.value?e(a).highlightedElement.value?"-1":"0":"-1","aria-orientation":e(a).orientation.value,"aria-multiselectable":!!e(a).multiple.value,"data-orientation":e(a).orientation.value,onMousedown:l[0]||(l[0]=de(n=>r.value=!0,["left"])),onFocus:l[1]||(l[1]=n=>{e(r)||e(a).onEnter(n)}),onKeydown:[l[2]||(l[2]=te(n=>{e(a).orientation.value==="vertical"&&(n.key==="ArrowLeft"||n.key==="ArrowRight")||e(a).orientation.value==="horizontal"&&(n.key==="ArrowUp"||n.key==="ArrowDown")||(n.preventDefault(),e(a).focusable.value&&e(a).onKeydownNavigation(n))},["down","up","left","right","home","end"])),te(e(a).onKeydownEnter,["enter"]),e(a).onKeydownTypeAhead]},{default:x(()=>[M(f.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),Rt=Kt,Ot=Y({__name:"ListboxFilter",props:{modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(t,{emit:o}){const a=t,f=Re(a,"modelValue",o,{defaultValue:"",passive:a.modelValue===void 0}),l=Ee(),{primitiveElement:n,currentElement:s}=ze(),c=q(()=>a.disabled||l.disabled.value||!1),y=E();return Qe(()=>y.value=l.highlightedElement.value?.id),pe(()=>{l.focusable.value=!1,setTimeout(()=>{a.autoFocus&&s.value?.focus()},1)}),me(()=>{l.focusable.value=!0}),(g,p)=>(u(),A(e(X),{ref_key:"primitiveElement",ref:n,as:g.as,"as-child":g.asChild,value:e(f),disabled:c.value?"":void 0,"data-disabled":c.value?"":void 0,"aria-disabled":c.value??void 0,"aria-activedescendant":y.value,type:"text",onKeydown:[te(de(e(l).onKeydownNavigation,["prevent"]),["down","up","home","end"]),te(e(l).onKeydownEnter,["enter"])],onInput:p[0]||(p[0]=i=>{f.value=i.target.value,e(l).highlightFirstItem()}),onCompositionstart:e(l).onCompositionStart,onCompositionend:e(l).onCompositionEnd},{default:x(()=>[M(g.$slots,"default",{modelValue:e(f)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),zt=Ot;const[Nt,Zt]=ce("ListboxGroup");var Gt=Y({__name:"ListboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const o=t,a=ge(void 0,"reka-listbox-group");return Zt({id:a}),(r,f)=>(u(),A(e(X),P({role:"group"},o,{"aria-labelledby":e(a)}),{default:x(()=>[M(r.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),jt=Gt,Ut=Y({__name:"ListboxGroupLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(t){const o=t,a=Nt({id:""});return(r,f)=>(u(),A(e(X),P(o,{id:e(a).id}),{default:x(()=>[M(r.$slots,"default")]),_:3},16,["id"]))}}),Wt=Ut;const Yt="listbox.select",[_l,Jt]=ce("ListboxItem");var Xt=Y({__name:"ListboxItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},emits:["select"],setup(t,{emit:o}){const a=t,r=o,f=ge(void 0,"reka-listbox-item"),{CollectionItem:l}=Se(),{forwardRef:n,currentElement:s}=Et(),c=Ee(),y=q(()=>s.value===c.highlightedElement.value),g=q(()=>Mt(c.modelValue.value,a.value,c.by)),p=q(()=>c.disabled.value||a.disabled);async function i(h){r("select",h),!h?.defaultPrevented&&!p.value&&h&&(c.onValueChange(a.value),c.changeHighlight(s.value))}function $(h){const V={originalEvent:h,value:a.value};qt(Yt,i,V)}return Jt({isSelected:g}),(h,V)=>(u(),A(e(l),{value:h.value},{default:x(()=>[et([y.value,g.value],()=>v(e(X),P({id:e(f)},h.$attrs,{ref:e(n),role:"option",tabindex:e(c).focusable.value?y.value?"0":"-1":-1,"aria-selected":g.value,as:h.as,"as-child":h.asChild,disabled:p.value?"":void 0,"data-disabled":p.value?"":void 0,"data-highlighted":y.value?"":void 0,"data-state":g.value?"checked":"unchecked",onClick:$,onKeydown:te(de($,["prevent"]),["space"]),onPointermove:V[0]||(V[0]=()=>{e(c).highlightedElement.value!==e(s)&&e(c).highlightOnHover.value&&!e(c).focusable.value&&e(c).changeHighlight(e(s),!1)})}),{default:x(()=>[M(h.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),V,1)]),_:3},8,["value"]))}}),Qt=Xt;const en=["width","height","fill","transform"],tn={key:0},nn=d("path",{d:"M228,104a12,12,0,0,1-24,0V69l-59.51,59.51a12,12,0,0,1-17-17L187,52H152a12,12,0,0,1,0-24h64a12,12,0,0,1,12,12Zm-44,24a12,12,0,0,0-12,12v64H52V84h64a12,12,0,0,0,0-24H48A20,20,0,0,0,28,80V208a20,20,0,0,0,20,20H176a20,20,0,0,0,20-20V140A12,12,0,0,0,184,128Z"},null,-1),an=[nn],ln={key:1},sn=d("path",{d:"M184,80V208a8,8,0,0,1-8,8H48a8,8,0,0,1-8-8V80a8,8,0,0,1,8-8H176A8,8,0,0,1,184,80Z",opacity:"0.2"},null,-1),on=d("path",{d:"M224,104a8,8,0,0,1-16,0V59.32l-66.33,66.34a8,8,0,0,1-11.32-11.32L196.68,48H152a8,8,0,0,1,0-16h64a8,8,0,0,1,8,8Zm-40,24a8,8,0,0,0-8,8v72H48V80h72a8,8,0,0,0,0-16H48A16,16,0,0,0,32,80V208a16,16,0,0,0,16,16H176a16,16,0,0,0,16-16V136A8,8,0,0,0,184,128Z"},null,-1),rn=[sn,on],un={key:2},dn=d("path",{d:"M192,136v72a16,16,0,0,1-16,16H48a16,16,0,0,1-16-16V80A16,16,0,0,1,48,64h72a8,8,0,0,1,0,16H48V208H176V136a8,8,0,0,1,16,0Zm32-96a8,8,0,0,0-8-8H152a8,8,0,0,0-5.66,13.66L172.69,72l-42.35,42.34a8,8,0,0,0,11.32,11.32L184,83.31l26.34,26.35A8,8,0,0,0,224,104Z"},null,-1),cn=[dn],fn={key:3},pn=d("path",{d:"M222,104a6,6,0,0,1-12,0V54.49l-69.75,69.75a6,6,0,0,1-8.48-8.48L201.51,46H152a6,6,0,0,1,0-12h64a6,6,0,0,1,6,6Zm-38,26a6,6,0,0,0-6,6v72a2,2,0,0,1-2,2H48a2,2,0,0,1-2-2V80a2,2,0,0,1,2-2h72a6,6,0,0,0,0-12H48A14,14,0,0,0,34,80V208a14,14,0,0,0,14,14H176a14,14,0,0,0,14-14V136A6,6,0,0,0,184,130Z"},null,-1),mn=[pn],gn={key:4},hn=d("path",{d:"M224,104a8,8,0,0,1-16,0V59.32l-66.33,66.34a8,8,0,0,1-11.32-11.32L196.68,48H152a8,8,0,0,1,0-16h64a8,8,0,0,1,8,8Zm-40,24a8,8,0,0,0-8,8v72H48V80h72a8,8,0,0,0,0-16H48A16,16,0,0,0,32,80V208a16,16,0,0,0,16,16H176a16,16,0,0,0,16-16V136A8,8,0,0,0,184,128Z"},null,-1),vn=[hn],yn={key:5},bn=d("path",{d:"M220,104a4,4,0,0,1-8,0V49.66l-73.16,73.17a4,4,0,0,1-5.66-5.66L206.34,44H152a4,4,0,0,1,0-8h64a4,4,0,0,1,4,4Zm-36,28a4,4,0,0,0-4,4v72a4,4,0,0,1-4,4H48a4,4,0,0,1-4-4V80a4,4,0,0,1,4-4h72a4,4,0,0,0,0-8H48A12,12,0,0,0,36,80V208a12,12,0,0,0,12,12H176a12,12,0,0,0,12-12V136A4,4,0,0,0,184,132Z"},null,-1),xn=[bn],wn={name:"PhArrowSquareOut"},_n=Y({...wn,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(t){const o=t,a=U("weight","regular"),r=U("size","1em"),f=U("color","currentColor"),l=U("mirrored",!1),n=q(()=>o.weight??a),s=q(()=>o.size??r),c=q(()=>o.color??f),y=q(()=>o.mirrored!==void 0?o.mirrored?"scale(-1, 1)":void 0:l?"scale(-1, 1)":void 0);return(g,p)=>(u(),b("svg",P({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:s.value,height:s.value,fill:c.value,transform:y.value},g.$attrs),[M(g.$slots,"default"),n.value==="bold"?(u(),b("g",tn,an)):n.value==="duotone"?(u(),b("g",ln,rn)):n.value==="fill"?(u(),b("g",un,cn)):n.value==="light"?(u(),b("g",fn,mn)):n.value==="regular"?(u(),b("g",gn,vn)):n.value==="thin"?(u(),b("g",yn,xn)):T("",!0)],16,en))}}),kn=["width","height","fill","transform"],Cn={key:0},$n=d("path",{d:"M56.88,31.93A12,12,0,1,0,39.12,48.07L60,71A76,76,0,0,0,35.46,84.51a20,20,0,0,0-1.6,29.73l45.46,45.47-39.8,39.8a12,12,0,0,0,17,17l39.8-39.81,45.47,45.46A20,20,0,0,0,155.9,228c.47,0,.94,0,1.41-.05A20,20,0,0,0,171.87,220a97.47,97.47,0,0,0,9.54-15.46l17.72,19.49a12,12,0,1,0,17.76-16.14Zm98.49,169.88L54.08,100.52C62,95,70.31,92.12,78.91,91.83l84.51,93A62,62,0,0,1,155.37,201.81Zm82.78-95-39,39.11a12,12,0,1,1-17-16.95l36.19-36.3-55-55L130.59,70.5a12,12,0,0,1-17-16.94l35.57-35.69a20,20,0,0,1,28.3,0l60.69,60.68A20,20,0,0,1,238.15,106.83Z"},null,-1),Ln=[$n],An={key:1},Sn=d("path",{d:"M229.66,98.34,172.39,155.8c11.46,22.93-1.72,45.86-10.11,57a8,8,0,0,1-12,.83L42.34,105.76A8,8,0,0,1,43,93.85c29.65-23.92,57.4-10,57.4-10l57.27-57.46a8,8,0,0,1,11.31,0L229.66,87A8,8,0,0,1,229.66,98.34Z",opacity:"0.2"},null,-1),En=d("path",{d:"M53.92,34.62A8,8,0,1,0,42.08,45.38L67.37,73.2A69.82,69.82,0,0,0,38,87.63a16,16,0,0,0-1.29,23.78L85,159.71,42.34,202.34a8,8,0,0,0,11.32,11.32L96.29,171l48.29,48.29A16,16,0,0,0,155.9,224c.38,0,.75,0,1.13,0a15.93,15.93,0,0,0,11.64-6.33,89.75,89.75,0,0,0,11.58-20.27l21.84,24a8,8,0,1,0,11.84-10.76ZM155.9,208,48,100.08C58.23,91.83,69.2,87.72,80.66,87.81l87.16,95.88C165.59,193.56,160.24,202.23,155.9,208Zm79.42-104-44.64,44.79a8,8,0,1,1-11.33-11.3L224,92.7,163.32,32,122.1,73.35a8,8,0,0,1-11.33-11.29L152,20.7a16,16,0,0,1,22.63,0l60.69,60.68A16,16,0,0,1,235.32,104Z"},null,-1),qn=[Sn,En],Vn={key:2},Fn=d("path",{d:"M235.33,104l-47.62,47.78a4,4,0,0,1-5.79-.14L108,70.27a4,4,0,0,1,.13-5.51L152,20.7a16,16,0,0,1,22.63,0l60.69,60.68A16,16,0,0,1,235.33,104ZM53.92,34.62a8,8,0,0,0-12,.21,8.18,8.18,0,0,0,.37,10.75L67.32,73.15C58.26,75.09,48.2,79.37,38,87.63a16,16,0,0,0-1.29,23.78L85,159.71,42.55,202.14a8.17,8.17,0,0,0-.6,11.09,8,8,0,0,0,11.71.43L96.29,171l48.29,48.29A16,16,0,0,0,155.9,224c.38,0,.75,0,1.13,0a15.93,15.93,0,0,0,11.64-6.33,88.62,88.62,0,0,0,11.64-20.2l21.77,23.95a8,8,0,1,0,11.84-10.76Z"},null,-1),Bn=[Fn],In={key:3},Tn=d("path",{d:"M52.44,36A6,6,0,0,0,43.56,44L71.27,74.51C61.78,76,50.6,80,39.22,89.18A14,14,0,0,0,38.1,110l49.71,49.71-44.05,44a6,6,0,1,0,8.48,8.48l44.05-44.05L146,217.89a14,14,0,0,0,9.9,4.11q.49,0,1,0a14,14,0,0,0,10.19-5.54,85.51,85.51,0,0,0,12.44-22.84l24,26.45a6,6,0,1,0,8.87-8.08ZM157.49,209.21a2,2,0,0,1-3,.2L46.58,101.51a2,2,0,0,1,.18-3c13.18-10.64,25.84-12.9,34.79-12.7L170,183.11C167.83,193.74,162.11,203.07,157.49,209.21Zm76.42-106.62-44.65,44.78a6,6,0,1,1-8.5-8.47l44.65-44.79a2,2,0,0,0,0-2.84L164.73,30.59a2,2,0,0,0-2.83,0L120.68,71.94a6,6,0,0,1-8.5-8.47l41.23-41.36a14,14,0,0,1,19.81,0l60.69,60.69A14,14,0,0,1,233.91,102.59Z"},null,-1),Mn=[Tn],Hn={key:4},Dn=d("path",{d:"M53.92,34.62A8,8,0,1,0,42.08,45.38L67.37,73.2A69.82,69.82,0,0,0,38,87.63a16,16,0,0,0-1.29,23.78L85,159.71,42.34,202.34a8,8,0,0,0,11.32,11.32L96.29,171l48.29,48.29A16,16,0,0,0,155.9,224c.38,0,.75,0,1.13,0a15.93,15.93,0,0,0,11.64-6.33,89.75,89.75,0,0,0,11.58-20.27l21.84,24a8,8,0,1,0,11.84-10.76ZM155.9,208,48,100.08C58.23,91.83,69.2,87.72,80.66,87.81l87.16,95.88C165.59,193.56,160.24,202.23,155.9,208Zm79.42-104-44.64,44.79a8,8,0,1,1-11.33-11.3L224,92.7,163.32,32,122.1,73.35a8,8,0,0,1-11.33-11.29L152,20.7a16,16,0,0,1,22.63,0l60.69,60.68A16,16,0,0,1,235.32,104Z"},null,-1),Pn=[Dn],Kn={key:5},Rn=d("path",{d:"M51,37.31A4,4,0,0,0,45,42.69L75.35,76c-9.93.88-22.26,4.54-34.87,14.71a12,12,0,0,0-1,17.84l51.13,51.13L45.17,205.17a4,4,0,0,0,5.66,5.66l45.46-45.47,51.12,51.12A12,12,0,0,0,155.9,220c.28,0,.57,0,.85,0a12,12,0,0,0,8.73-4.74,81.06,81.06,0,0,0,13.19-25.55l26.37,29a4,4,0,1,0,5.92-5.38ZM159.08,210.42a4,4,0,0,1-6,.4L45.17,102.93a4,4,0,0,1,.33-6c14.08-11.36,27.62-13.5,37-13.12l89.69,98.65C170.07,193.92,164,203.92,159.08,210.42Zm73.41-109.25L187.85,146a4,4,0,0,1-5.67-5.64l44.65-44.8a4,4,0,0,0,0-5.66L166.15,29.17a4,4,0,0,0-5.66,0L119.27,70.53a4,4,0,0,1-5.67-5.65l41.23-41.36a12,12,0,0,1,17,0L232.49,84.2A12,12,0,0,1,232.49,101.17Z"},null,-1),On=[Rn],zn={name:"PhPushPinSlash"},Nn=Y({...zn,props:{weight:{type:String},size:{type:[String,Number]},color:{type:String},mirrored:{type:Boolean}},setup(t){const o=t,a=U("weight","regular"),r=U("size","1em"),f=U("color","currentColor"),l=U("mirrored",!1),n=q(()=>o.weight??a),s=q(()=>o.size??r),c=q(()=>o.color??f),y=q(()=>o.mirrored!==void 0?o.mirrored?"scale(-1, 1)":void 0:l?"scale(-1, 1)":void 0);return(g,p)=>(u(),b("svg",P({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",width:s.value,height:s.value,fill:c.value,transform:y.value},g.$attrs),[M(g.$slots,"default"),n.value==="bold"?(u(),b("g",Cn,Ln)):n.value==="duotone"?(u(),b("g",An,qn)):n.value==="fill"?(u(),b("g",Vn,Bn)):n.value==="light"?(u(),b("g",In,Mn)):n.value==="regular"?(u(),b("g",Hn,Pn)):n.value==="thin"?(u(),b("g",Kn,On)):T("",!0)],16,kn))}}),qe={__name:"TypeIcon",props:{type:String,class:{type:String,default:"w-4 h-4"}},setup(t){const o=t,a={idea:$e,link:Ce,note:ke};return(r,f)=>(u(),A(_e(a[t.type]),{class:N([o.class,"text-foreground"]),weight:"thin"},null,8,["class"]))}};function Zn(t=[]){const o=new Date,a=new Date(o.getFullYear(),o.getMonth(),o.getDate()),r=new Date(a);r.setDate(r.getDate()-1);const f=new Date(a);f.setDate(f.getDate()-7);const l=new Date(a);l.setMonth(l.getMonth()-1);const n={Today:[],Yesterday:[],"This Week":[],"This Month":[],Older:[]};for(const s of t){const c=new Date(s.created_at);c>=a?n.Today.push(s):c>=r?n.Yesterday.push(s):c>=f?n["This Week"].push(s):c>=l?n["This Month"].push(s):n.Older.push(s)}return Object.entries(n).filter(([,s])=>s.length>0)}const Gn={class:"flex h-full w-full flex-col border-b border-border bg-background md:w-[25rem] md:border-b-0 md:border-r"},jn={class:"flex items-center justify-between px-4 border-b border-border h-[50px]"},Un={class:"text-sm font-semibold tracking-tight"},Wn={class:"text-xs text-muted-foreground"},Yn={class:"px-3 py-2"},Jn={class:"mb-1 mt-3 first:mt-1 px-3 text-[10px] font-semibold uppercase tracking-widest text-muted-foreground/60"},Xn={class:"space-y-3"},Qn=["onClick"],ea={class:"flex items-center gap-2"},ta={class:"flex items-center gap-2 pl-5"},na={class:"truncate text-xs text-muted-foreground"},aa={class:"ml-auto shrink-0 text-[10px] text-muted-foreground/50"},la={key:0,class:"px-3 py-8 text-center text-sm text-muted-foreground"},Te={__name:"EntryList",props:{entries:Array,selectedId:[Number,null],filters:Object},emits:["select"],setup(t,{emit:o}){const a=t,r=o,f=q(()=>Zn(a.entries)),l=q(()=>a.filters?.tag?`Tagged: ${a.filters.tag}`:a.filters?.pinned?"Pinned":a.filters?.type==="idea"?"Ideas":a.filters?.type==="link"?"Links":a.filters?.type==="note"?"Notes":"All Entries");function n(c,y=60){return c?c.length>y?c.substring(0,y)+"…":c:""}function s(c){const y=new Date,g=new Date(c),p=Math.floor((y-g)/6e4);return p<1?"just now":p<60?`${p}m ago`:p<1440?`${Math.floor(p/60)}h ago`:`${Math.floor(p/1440)}d ago`}return(c,y)=>(u(),b("div",Gn,[d("div",jn,[d("h2",Un,S(l.value),1),d("span",Wn,S(t.entries.length),1)]),v(e(it),{class:"flex-1"},{default:x(()=>[d("div",Yn,[(u(!0),b(R,null,W(f.value,([g,p])=>(u(),b(R,{key:g},[d("div",Jn,S(g),1),d("div",Xn,[(u(!0),b(R,null,W(p,i=>(u(),b("button",{key:i.id,onClick:$=>r("select",i),class:N(["flex w-full flex-col gap-0.5 rounded-lg px-3 py-2.5 text-left transition-all",t.selectedId===i.id?"bg-amber-500/20 ring-1 ring-amber-500/30 dark:bg-violet-500/15 dark:ring-violet-400/25":"hover:bg-secondary/50"])},[d("div",ea,[v(qe,{type:i.type,class:"h-3 w-3 shrink-0"},null,8,["type"]),d("span",{class:N(["truncate text-sm font-medium",i.is_pinned?"text-yellow-600 dark:text-violet-400":""])},S(i.title||n(i.content,40)),3),i.is_pinned?(u(),A(e(Le),{key:0,class:"ml-auto h-3 w-3 shrink-0 text-yellow-600 dark:text-violet-400",weight:"thin"})):T("",!0)]),d("div",ta,[d("span",na,S(n(i.content,50)),1),d("span",aa,S(s(i.created_at)),1)])],10,Qn))),128))])],64))),128)),t.entries.length===0?(u(),b("div",la," No entries found ")):T("",!0)])]),_:1})]))}},sa={__name:"TagBadge",props:{tag:String,clickable:{type:Boolean,default:!1}},emits:["click"],setup(t,{emit:o}){const a=o,r=[{bg:"bg-amber-400/10",text:"text-amber-500",ring:"ring-amber-500/20",dot:"bg-amber-400"},{bg:"bg-cyan-400/10",text:"text-cyan-600 dark:text-cyan-300",ring:"ring-cyan-500/20",dot:"bg-cyan-400"},{bg:"bg-amber-400/10",text:"text-amber-600 dark:text-amber-500",ring:"ring-amber-500/20",dot:"bg-amber-400"},{bg:"bg-amber-400/10",text:"text-amber-600 dark:text-amber-300",ring:"ring-amber-500/20",dot:"bg-amber-400"},{bg:"bg-rose-400/10",text:"text-rose-600 dark:text-rose-300",ring:"ring-rose-500/20",dot:"bg-rose-400"},{bg:"bg-sky-400/10",text:"text-sky-600 dark:text-sky-300",ring:"ring-sky-500/20",dot:"bg-sky-400"},{bg:"bg-orange-400/10",text:"text-orange-600 dark:text-orange-300",ring:"ring-orange-500/20",dot:"bg-orange-400"},{bg:"bg-fuchsia-400/10",text:"text-fuchsia-600 dark:text-fuchsia-300",ring:"ring-fuchsia-500/20",dot:"bg-fuchsia-400"},{bg:"bg-lime-400/10",text:"text-lime-600 dark:text-lime-300",ring:"ring-lime-500/20",dot:"bg-lime-400"},{bg:"bg-indigo-400/10",text:"text-indigo-600 dark:text-indigo-300",ring:"ring-indigo-500/20",dot:"bg-indigo-400"}];function f(n){let s=0;for(let c=0;c<n.length;c++)s=(s<<5)-s+n.charCodeAt(c),s|=0;return Math.abs(s)%r.length}function l(n){return r[f(n)]}return(n,s)=>(u(),b("span",{class:N(["inline-flex items-center rounded-full px-2 py-0.5 text-xs font-medium ring-1 ring-inset transition-colors",l(t.tag).bg,l(t.tag).text,l(t.tag).ring,t.clickable?"cursor-pointer hover:brightness-125":""]),onClick:s[0]||(s[0]=c=>t.clickable&&a("click",t.tag))},S(t.tag),3))}},oa={key:0,class:"flex h-full flex-col"},ra={class:"flex items-center gap-2 border-b border-border px-3 py-2 md:px-6 md:py-3 shrink-0"},ia={class:"flex items-center gap-1"},ua={class:"flex flex-wrap items-center gap-2 ml-auto"},da={class:"rounded-full bg-secondary px-2 py-0.5 text-xs font-medium text-muted-foreground capitalize"},ca={key:0,class:"rounded-full bg-yellow-500/10 px-2 py-0.5 text-xs font-medium text-yellow-600 dark:bg-violet-500/10 dark:text-violet-400"},fa={class:"flex-1 overflow-auto p-4 md:p-6"},pa={key:0,class:"text-lg font-semibold tracking-tight md:text-xl mb-4"},ma={class:"prose prose-invert max-w-none whitespace-pre-wrap text-sm leading-relaxed text-foreground/90"},ga=["href"],ha={class:"truncate"},va={class:"border-t border-border px-4 py-4 md:p-4 shrink-0"},ya={class:"flex flex-wrap gap-1.5"},ba={key:1,class:"flex h-full flex-col items-center justify-center text-muted-foreground"},Me={__name:"EntryDetail",props:{entry:Object},emits:["edit","delete","togglePin"],setup(t,{emit:o}){function a(l){z.get(route("dashboard"),{tag:l},{preserveState:!0,preserveScroll:!0})}const r=o,f={idea:"Idea",link:"Link",note:"Note",reference:"Reference"};return(l,n)=>t.entry?(u(),b("div",oa,[d("div",ra,[d("div",ia,[v(e(D),{variant:"ghost",size:"icon",class:"h-7 w-7 md:h-8 md:w-8",onClick:n[0]||(n[0]=s=>r("togglePin",t.entry))},{default:x(()=>[t.entry.is_pinned?(u(),A(e(Nn),{key:0,class:"h-3.5 w-3.5 md:h-4 md:w-4 text-foreground",weight:"thin"})):(u(),A(e(Le),{key:1,class:"h-3.5 w-3.5 md:h-4 md:w-4 text-foreground",weight:"thin"}))]),_:1}),v(e(D),{variant:"ghost",size:"icon",class:"h-7 w-7 md:h-8 md:w-8",onClick:n[1]||(n[1]=s=>r("edit",t.entry))},{default:x(()=>[v(e(ut),{class:"h-3.5 w-3.5 md:h-4 md:w-4 text-foreground",weight:"thin"})]),_:1}),v(e(D),{variant:"ghost",size:"icon",class:"h-7 w-7 md:h-8 md:w-8 text-red-600 hover:text-red-500 dark:text-red-400 dark:hover:text-red-300",onClick:n[2]||(n[2]=s=>r("delete",t.entry))},{default:x(()=>[v(e(dt),{class:"h-3.5 w-3.5 md:h-4 md:w-4",weight:"thin"})]),_:1})]),d("div",ua,[v(qe,{type:t.entry.type,class:"h-3.5 w-3.5 md:h-4 md:w-4"},null,8,["type"]),d("span",da,S(f[t.entry.type]),1),t.entry.is_pinned?(u(),b("span",ca," Pinned ")):T("",!0)])]),d("div",fa,[t.entry.title?(u(),b("h1",pa,S(t.entry.title),1)):T("",!0),d("div",ma,S(t.entry.content),1),t.entry.url?(u(),b("a",{key:1,href:t.entry.url,target:"_blank",class:"mt-4 flex items-center gap-2 rounded-lg bg-secondary/30 py-2 text-sm text-amber-500 dark:text-violet-400 transition-colors hover:bg-secondary max-w-full overflow-hidden"},[v(e(_n),{class:"h-4 w-4 shrink-0 text-foreground",weight:"thin"}),d("span",ha,S(t.entry.url),1)],8,ga)):T("",!0)]),d("div",va,[d("div",ya,[(u(!0),b(R,null,W(t.entry.tags,s=>(u(),A(sa,{key:s,tag:s,clickable:"",onClick:c=>a(s)},null,8,["tag","onClick"]))),128))])])])):(u(),b("div",ba,[...n[3]||(n[3]=[d("p",{class:"text-sm"},"Select an entry to view details",-1),d("p",{class:"text-xs text-muted-foreground/50"},"or press ⌘K to search",-1)])]))}};const xa=ct("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),wa={class:"flex flex-wrap gap-3"},_a=["onClick"],ka={key:0,class:"flex flex-wrap gap-1.5 mb-2"},Ca=["onClick"],$a={class:"flex items-center gap-2 text-sm cursor-pointer"},La={__name:"EntryForm",props:{open:Boolean,entry:{type:Object,default:null}},emits:["close"],setup(t,{emit:o}){const a=t,r=o,f=[{value:"idea",label:"Idea",icon:$e,color:"text-amber-500 bg-amber-400/10 border-amber-500/20"},{value:"link",label:"Link",icon:Ce,color:"text-amber-500 bg-amber-400/10 border-amber-500/20"},{value:"note",label:"Note",icon:ke,color:"text-amber-500 bg-amber-400/10 border-amber-500/20"}],l=tt({title:"",content:"",url:"",type:"note",tags:[],is_pinned:!1}),n=E("");J(()=>a.entry,g=>{g?(l.title=g.title||"",l.content=g.content||"",l.url=g.url||"",l.type=g.type||"note",l.tags=g.tags?[...g.tags]:[],l.is_pinned=g.is_pinned||!1):l.reset()},{immediate:!0}),J(()=>a.open,g=>{g&&(a.entry||l.reset())});function s(){const g=n.value.trim().toLowerCase();g&&!l.tags.includes(g)&&l.tags.push(g),n.value=""}function c(g){l.tags=l.tags.filter(p=>p!==g)}function y(){a.entry?l.put(route("entries.update",a.entry.id),{preserveScroll:!0,onSuccess:()=>r("close")}):l.post(route("entries.store"),{preserveScroll:!0,onSuccess:()=>{l.reset(),r("close")}})}return(g,p)=>(u(),A(e(Ke),{open:t.open,"onUpdate:open":p[6]||(p[6]=i=>g.$emit("close"))},{default:x(()=>[v(e(De),{class:"w-[calc(100vw-1.5rem)] sm:w-full sm:max-w-lg"},{default:x(()=>[v(e(ft),null,{default:x(()=>[v(e(pt),null,{default:x(()=>[H(S(t.entry?"Edit Entry":"New Entry"),1)]),_:1}),v(e(Pe),{class:"text-sm text-muted-foreground"},{default:x(()=>[H(S(t.entry?"Update the details of this entry.":"Add a new entry to your vault."),1)]),_:1})]),_:1}),d("form",{onSubmit:de(y,["prevent"]),class:"space-y-4"},[d("div",wa,[(u(),b(R,null,W(f,i=>d("button",{key:i.value,type:"button",onClick:$=>e(l).type=i.value,class:N(["flex items-center gap-1.5 rounded-lg border px-3 py-1.5 text-xs font-medium transition-all",e(l).type===i.value?i.color:"border-border text-muted-foreground hover:bg-secondary"])},[(u(),A(_e(i.icon),{class:"h-3.5 w-3.5",weight:"thin"})),H(" "+S(i.label),1)],10,_a)),64))]),v(e(xe),{modelValue:e(l).title,"onUpdate:modelValue":p[0]||(p[0]=i=>e(l).title=i),placeholder:"Title (optional)"},null,8,["modelValue"]),v(e(mt),{modelValue:e(l).content,"onUpdate:modelValue":p[1]||(p[1]=i=>e(l).content=i),placeholder:"What's on your mind?",class:"min-h-[120px] resize-none"},null,8,["modelValue"]),v(e(xe),{modelValue:e(l).url,"onUpdate:modelValue":p[2]||(p[2]=i=>e(l).url=i),placeholder:"URL (optional)"},null,8,["modelValue"]),d("div",null,[e(l).tags.length?(u(),b("div",ka,[(u(!0),b(R,null,W(e(l).tags,i=>(u(),b("span",{key:i,class:"inline-flex items-center gap-1 rounded-full bg-amber-400/10 px-2 py-0.5 text-xs text-amber-500"},[H(S(i)+" ",1),d("button",{type:"button",onClick:$=>c(i),class:"hover:text-amber-200"},"×",8,Ca)]))),128))])):T("",!0),v(e(xe),{modelValue:n.value,"onUpdate:modelValue":p[3]||(p[3]=i=>n.value=i),placeholder:"Add tag and press Enter",onKeydown:te(de(s,["prevent"]),["enter"])},null,8,["modelValue","onKeydown"])]),d("label",$a,[v(e(At),{checked:e(l).is_pinned,"onUpdate:checked":p[4]||(p[4]=i=>e(l).is_pinned=i),class:"border-border data-[state=checked]:bg-amber-400 data-[state=checked]:border-amber-600"},null,8,["checked"]),p[7]||(p[7]=H(" Pin this entry ",-1))]),v(e(gt),{class:"pt-1 gap-3 sm:gap-3"},{default:x(()=>[v(e(D),{type:"button",variant:"outline",onClick:p[5]||(p[5]=i=>g.$emit("close"))},{default:x(()=>[...p[8]||(p[8]=[H("Cancel",-1)])]),_:1}),v(e(D),{type:"submit",disabled:e(l).processing||!e(l).content,class:"bg-amber-600 hover:bg-amber-700"},{default:x(()=>[H(S(t.entry?"Update":"Create"),1)]),_:1},8,["disabled"])]),_:1})],32)]),_:1})]),_:1},8,["open"]))}},Aa={__name:"Command",props:{modelValue:{type:null,required:!1,default:""},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},orientation:{type:String,required:!1},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},class:{type:null,required:!1}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(t,{emit:o}){const a=t,r=o,f=ne(a,"class"),l=Ae(f,r),n=E(new Map),s=E(new Map),{contains:c}=It({sensitivity:"base"}),y=nt({search:"",filtered:{count:0,items:new Map,groups:new Set}});function g(){if(!y.search){y.filtered.count=n.value.size;return}y.filtered.groups=new Set;let p=0;for(const[i,$]of n.value){const h=c($,y.search);y.filtered.items.set(i,h?1:0),h&&p++}for(const[i,$]of s.value)for(const h of $)if(y.filtered.items.get(h)>0){y.filtered.groups.add(i);break}y.filtered.count=p}return J(()=>y.search,()=>{g()}),Ma({allItems:n,allGroups:s,filterState:y}),(p,i)=>(u(),A(e(Pt),P(e(l),{class:e(ae)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",a.class)}),{default:x(()=>[M(p.$slots,"default")]),_:3},16,["class"]))}},Sa={__name:"CommandDialog",props:{open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1}},emits:["update:open"],setup(t,{emit:o}){const f=Ae(t,o);return(l,n)=>(u(),A(e(Ke),at(lt(e(f))),{default:x(()=>[v(e(De),{class:"w-[calc(100vw-1.5rem)] overflow-hidden p-0 shadow-lg [&>button]:top-3 [&>button]:right-3 sm:w-full"},{default:x(()=>[v(e(Pe),{class:"sr-only"},{default:x(()=>[...n[0]||(n[0]=[H("Search entries in your vault",-1)])]),_:1}),v(Aa,{class:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-4 [&_[cmdk-input-wrapper]_svg]:w-4 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5"},{default:x(()=>[M(l.$slots,"default")]),_:3})]),_:3})]),_:3},16))}},Ea={__name:"CommandEmpty",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(t){const o=t,a=ne(o,"class"),{filterState:r}=he(),f=q(()=>!!r.search&&r.filtered.count===0);return(l,n)=>f.value?(u(),A(e(X),P({key:0},e(a),{class:e(ae)("py-6 text-center text-sm",o.class)}),{default:x(()=>[M(l.$slots,"default")]),_:3},16,["class"])):T("",!0)}},qa={__name:"CommandGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1},heading:{type:String,required:!1}},setup(t){const o=t,a=ne(o,"class"),{allGroups:r,filterState:f}=he(),l=ge(),n=q(()=>f.search?f.filtered.groups.has(l):!0);return Da({id:l}),pe(()=>{r.value.has(l)||r.value.set(l,new Set)}),me(()=>{r.value.delete(l)}),(s,c)=>(u(),A(e(jt),P(e(a),{id:e(l),class:e(ae)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",o.class),hidden:n.value?void 0:!0}),{default:x(()=>[t.heading?(u(),A(e(Wt),{key:0,class:"px-2 py-1.5 text-xs font-medium text-muted-foreground"},{default:x(()=>[H(S(t.heading),1)]),_:1})):T("",!0),M(s.$slots,"default")]),_:3},16,["id","class","hidden"]))}},Va={class:"flex items-center border-b px-3","cmdk-input-wrapper":""},Fa=Object.assign({inheritAttrs:!1},{__name:"CommandInput",props:{modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(t){const o=t,a=ne(o,"class"),r=Oe(a),{filterState:f}=he();return(l,n)=>(u(),b("div",Va,[v(e(xa),{class:"mr-2 h-4 w-4 shrink-0 opacity-50"}),v(e(zt),P({...e(r),...l.$attrs},{modelValue:e(f).search,"onUpdate:modelValue":n[0]||(n[0]=s=>e(f).search=s),"auto-focus":"",class:e(ae)("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",o.class)}),null,16,["modelValue","class"])]))}}),Ba={__name:"CommandItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},emits:["select"],setup(t,{emit:o}){const a=t,r=o,f=ne(a,"class"),l=Ae(f,r),n=ge(),{filterState:s,allItems:c,allGroups:y}=he(),g=Ha(),p=q(()=>{if(s.search){const h=s.filtered.items.get(n);return h===void 0?!0:h>0}else return!0}),i=E(),$=Ct(i);return pe(()=>{if(!($.value instanceof HTMLElement))return;c.value.set(n,$.value.textContent??a?.value.toString());const h=g?.id;h&&(y.value.has(h)?y.value.get(h)?.add(n):y.value.set(h,new Set([n])))}),me(()=>{c.value.delete(n)}),(h,V)=>p.value?(u(),A(e(Qt),P({key:0},e(l),{id:e(n),ref_key:"itemRef",ref:i,class:e(ae)("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[highlighted]:bg-accent/10 data-[highlighted]:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:size-4 [&_svg]:shrink-0",a.class),onSelect:V[0]||(V[0]=()=>{e(s).search=""})}),{default:x(()=>[M(h.$slots,"default")]),_:3},16,["id","class"])):T("",!0)}},Ia={role:"presentation"},Ta={__name:"CommandList",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(t){const o=t,a=ne(o,"class"),r=Oe(a);return(f,l)=>(u(),A(e(Rt),P(e(r),{class:e(ae)("max-h-[300px] overflow-y-auto overflow-x-hidden",o.class)}),{default:x(()=>[d("div",Ia,[M(f.$slots,"default")])]),_:3},16,["class"]))}},[he,Ma]=ce("Command"),[Ha,Da]=ce("CommandGroup"),Pa={class:"flex flex-col gap-0.5 overflow-hidden"},Ka={class:"truncate text-sm"},Ra={key:0,class:"truncate text-xs opacity-60"},He=10,Oa=120,za={__name:"SearchCommand",props:{open:Boolean,entries:{type:Array,default:()=>[]}},emits:["update:open","select"],setup(t,{emit:o}){const a=t,r=o,f=E(""),l=E([]),n=E([]);let s=null;function c(i){const $=(i.title||"").toLowerCase(),h=(i.content||"").toLowerCase(),V=Array.isArray(i.tags)?i.tags.map(Z=>String(Z).toLowerCase()).join(" "):"";return`${$} ${h} ${V}`}function y(i){if(!i){l.value=a.entries.slice(0,He);return}const $=i.toLowerCase(),h=[];for(const V of n.value)if(V.searchText.includes($)&&(h.push(V.entry),h.length>=He))break;l.value=h}J(()=>a.entries,i=>{n.value=i.map($=>({entry:$,searchText:c($)})),y(f.value)},{immediate:!0}),J(f,i=>{s&&clearTimeout(s),s=setTimeout(()=>y(i),Oa)}),J(()=>a.open,i=>{i&&(f.value="",y(""))});function g(i){r("select",i),r("update:open",!1)}function p(i){(i.metaKey||i.ctrlKey)&&i.key==="k"&&(i.preventDefault(),r("update:open",!a.open))}return pe(()=>window.addEventListener("keydown",p)),me(()=>{window.removeEventListener("keydown",p),s&&clearTimeout(s)}),(i,$)=>(u(),A(e(Sa),{open:t.open,"onUpdate:open":$[1]||($[1]=h=>i.$emit("update:open",h))},{default:x(()=>[v(e(Fa),{modelValue:f.value,"onUpdate:modelValue":$[0]||($[0]=h=>f.value=h),placeholder:"Search entries..."},null,8,["modelValue"]),v(e(Ta),null,{default:x(()=>[v(e(Ea),null,{default:x(()=>[...$[2]||($[2]=[H("No entries found.",-1)])]),_:1}),v(e(qa),{heading:"Entries"},{default:x(()=>[(u(!0),b(R,null,W(l.value,h=>(u(),A(e(Ba),{key:h.id,value:h.title||h.content.substring(0,50),onSelect:V=>g(h),class:"flex items-center gap-3 cursor-pointer"},{default:x(()=>[v(qe,{type:h.type,class:"h-4 w-4 shrink-0"},null,8,["type"]),d("div",Pa,[d("span",Ka,S(h.title||h.content.substring(0,60)),1),h.title?(u(),b("span",Ra,S(h.content.substring(0,80)),1)):T("",!0)])]),_:2},1032,["value","onSelect"]))),128))]),_:1})]),_:1})]),_:1},8,["open"]))}},Na={class:"h-screen bg-background md:hidden"},Za={class:"flex h-full flex-col"},Ga={class:"flex h-[50px] items-center justify-between border-b border-border px-2"},ja={class:"flex items-center gap-1"},Ua={class:"flex-1 overflow-hidden"},Wa={key:0,class:"fixed inset-0 z-50 md:hidden"},Ya={class:"absolute inset-y-0 left-0 w-[86vw] max-w-sm border-r border-border bg-background p-4 overflow-y-auto"},Ja={class:"-mx-4 -mt-4 mb-3 flex h-[50px] items-center justify-between border-b border-border px-2"},Xa={class:"space-y-5"},Qa={class:"space-y-2"},el=["onClick"],tl={class:"truncate"},nl={class:"ml-auto text-xs opacity-60"},al={key:0,class:"space-y-2"},ll=["onClick"],sl={class:"truncate flex-1 text-left"},ol={class:"text-xs text-muted-foreground/60 shrink-0"},rl={class:"hidden h-screen bg-background md:flex"},il={class:"flex flex-1 flex-col"},ul={class:"flex items-center justify-between border-b border-border pl-6 pr-3 h-[50px]"},dl={class:"text-xs text-muted-foreground font-mono"},cl={class:"flex-1 overflow-hidden"},kl={__name:"Dashboard",props:{entries:Array,allEntries:Array,counts:Object,tags:Array,filters:Object},setup(t){const o=t,a=E(null),r=E(!1),f=E(null),l=E(!1),n=E(!1),s=E(null),c=E(!1);function y(L){a.value=L}function g(){f.value=null,r.value=!0}function p(L){f.value=L,r.value=!0}function i(){r.value=!1,f.value=null}function $(L){s.value=L,n.value=!0}function h(){s.value&&z.delete(route("entries.destroy",s.value.id),{preserveScroll:!0,onSuccess:()=>{a.value=null}}),n.value=!1,s.value=null}function V(){n.value=!1,s.value=null}function Z(L){z.put(route("entries.update",L.id),{...L,is_pinned:!L.is_pinned},{preserveScroll:!0})}function ve(){a.value=null}const Q=q(()=>[{label:"All Entries",type:null,icon:_t,count:o.counts.all},{label:"Ideas",type:"idea",icon:$e,count:o.counts.idea},{label:"Links",type:"link",icon:Ce,count:o.counts.link},{label:"Notes",type:"note",icon:ke,count:o.counts.note},{label:"Pinned",type:"pinned",icon:Le,count:o.counts.pinned}]),G=[{dot:"bg-amber-400",text:"text-amber-500",activeBg:"bg-amber-400/10"},{dot:"bg-cyan-400",text:"text-cyan-300",activeBg:"bg-cyan-400/10"},{dot:"bg-amber-400",text:"text-amber-500",activeBg:"bg-amber-400/10"},{dot:"bg-amber-400",text:"text-amber-300",activeBg:"bg-amber-400/10"},{dot:"bg-rose-400",text:"text-rose-300",activeBg:"bg-rose-400/10"},{dot:"bg-sky-400",text:"text-sky-300",activeBg:"bg-sky-400/10"},{dot:"bg-orange-400",text:"text-orange-300",activeBg:"bg-orange-400/10"},{dot:"bg-fuchsia-400",text:"text-fuchsia-300",activeBg:"bg-fuchsia-400/10"},{dot:"bg-lime-400",text:"text-lime-300",activeBg:"bg-lime-400/10"},{dot:"bg-indigo-400",text:"text-indigo-300",activeBg:"bg-indigo-400/10"}];function le(L){let w=0;for(let k=0;k<L.length;k++)w=(w<<5)-w+L.charCodeAt(k),w|=0;return Math.abs(w)%G.length}function F(L){return G[le(L)]}const fe=q(()=>o.filters?.pinned?"pinned":o.filters?.type||null);function I(L){const w={};L.type==="pinned"?w.pinned=1:L.type&&(w.type=L.type),c.value=!1,z.get(route("dashboard"),w,{preserveState:!0,preserveScroll:!0})}function se(L){c.value=!1,z.get(route("dashboard"),{tag:L},{preserveState:!0,preserveScroll:!0})}function j(){c.value=!1,z.get(route("dashboard"),{},{preserveState:!0,preserveScroll:!0})}const K=q(()=>a.value&&o.entries.find(L=>L.id===a.value.id)||null);return(L,w)=>(u(),b(R,null,[v(e(st),{title:"Dashboard"}),d("div",Na,[d("div",Za,[d("div",Ga,[K.value?(u(),A(e(D),{key:0,variant:"ghost",size:"icon",class:"h-8 w-8",onClick:ve},{default:x(()=>[v(e(ht),{class:"h-4 w-4 text-foreground",weight:"thin"})]),_:1})):(u(),A(e(D),{key:1,variant:"ghost",size:"icon",class:"h-8 w-8",onClick:w[0]||(w[0]=k=>c.value=!0)},{default:x(()=>[v(e(vt),{class:"h-4 w-4 text-foreground",weight:"thin"})]),_:1})),v(e(D),{variant:"ghost",size:"icon",class:"h-8 w-8",onClick:w[1]||(w[1]=k=>l.value=!0)},{default:x(()=>[v(e(ot),{class:"h-4 w-4 text-foreground",weight:"thin"})]),_:1}),d("div",ja,[v(e(D),{variant:"ghost",size:"icon",class:"h-8 w-8",onClick:g},{default:x(()=>[v(e(yt),{class:"h-4 w-4 text-foreground",weight:"thin"})]),_:1})])]),d("div",Ua,[K.value?(u(),A(Me,{key:1,entry:K.value,onEdit:p,onDelete:$,onTogglePin:Z},null,8,["entry"])):(u(),A(Te,{key:0,entries:t.entries,filters:t.filters,selectedId:K.value?.id,onSelect:y},null,8,["entries","filters","selectedId"]))]),c.value?(u(),b("div",Wa,[d("div",{class:"absolute inset-0 bg-black/70",onClick:w[2]||(w[2]=k=>c.value=!1)}),d("div",Ya,[d("div",Ja,[v(e(D),{variant:"ghost",size:"icon",class:"h-8 w-8",onClick:w[3]||(w[3]=k=>c.value=!1)},{default:x(()=>[v(e(bt),{class:"h-4 w-4 text-foreground",weight:"thin"})]),_:1}),d("button",{onClick:w[4]||(w[4]=k=>{c.value=!1,e(z).get(L.route("tasks.index"))}),class:"flex items-center gap-1.5 px-2 py-1 text-sm text-muted-foreground hover:text-foreground transition-colors"},[v(e(xt),{class:"h-4 w-4",weight:"thin"}),w[9]||(w[9]=H(" Tasks ",-1))])]),d("div",Xa,[d("div",Qa,[(u(!0),b(R,null,W(Q.value,k=>(u(),b("button",{key:k.label,onClick:oe=>I(k),class:N(["flex w-full items-center gap-2 rounded-md px-1.5 py-1.5 text-left text-sm transition-all",fe.value===k.type?"text-amber-600 dark:text-violet-400":"text-muted-foreground hover:bg-secondary hover:text-foreground"])},[(u(),A(_e(k.icon),{class:N(["h-3.5 w-3.5 shrink-0",fe.value===k.type?"text-amber-600 dark:text-violet-400":"text-foreground"]),weight:"thin"},null,8,["class"])),d("span",tl,S(k.label),1),d("span",nl,S(k.count),1)],10,el))),128))]),t.tags.length?(u(),b("div",al,[w[10]||(w[10]=d("div",{class:"text-xs font-semibold uppercase tracking-wide text-muted-foreground"},"Tags",-1)),t.filters?.tag?(u(),b("button",{key:0,onClick:j,class:"w-full rounded-md px-2 py-1 text-left text-xs text-muted-foreground hover:bg-secondary/50"}," Clear current tag ")):T("",!0),(u(!0),b(R,null,W(t.tags,k=>(u(),b("button",{key:k.name,onClick:oe=>se(k.name),class:N(["flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-sm transition-all",t.filters?.tag===k.name?F(k.name).activeBg+" "+F(k.name).text:"text-muted-foreground hover:bg-secondary/50 hover:text-foreground"])},[d("span",{class:N(["h-2 w-2 rounded-full shrink-0",F(k.name).dot])},null,2),d("span",sl,S(k.name),1),d("span",ol,S(k.count),1)],10,ll))),128))])):T("",!0),d("button",{type:"button",class:"inline-flex items-center gap-1.5 rounded-md px-2 py-1 text-xs text-muted-foreground transition-colors hover:bg-secondary/50 hover:text-foreground",onClick:w[5]||(w[5]=k=>e(z).post(L.route("logout")))},[v(e(Ie),{class:"h-3.5 w-3.5",weight:"thin"}),w[11]||(w[11]=d("span",null,"Log out",-1))])])])])):T("",!0)])]),d("div",rl,[v(rt,{counts:o.counts,filters:t.filters,tags:t.tags,page:"entries",onCreate:g,onSearch:w[6]||(w[6]=k=>l.value=!0)},null,8,["counts","filters","tags"]),v(Te,{entries:t.entries,filters:t.filters,selectedId:K.value?.id,onSelect:y},null,8,["entries","filters","selectedId"]),d("div",il,[d("div",ul,[d("div",dl,S(o.counts.all)+" entries in vault ",1),v(e(D),{variant:"ghost",size:"icon",class:"h-8 w-8",onClick:w[7]||(w[7]=k=>e(z).post(L.route("logout")))},{default:x(()=>[v(e(Ie),{class:"h-4 w-4 text-foreground",weight:"thin"})]),_:1})]),d("div",cl,[v(Me,{entry:K.value,onEdit:p,onDelete:$,onTogglePin:Z},null,8,["entry"])])])]),v(La,{open:r.value,entry:f.value,onClose:i},null,8,["open","entry"]),v(za,{open:l.value,"onUpdate:open":w[8]||(w[8]=k=>l.value=k),entries:t.allEntries,onSelect:y},null,8,["open","entries"]),v(wt,{open:n.value,title:"Delete entry",description:'This will permanently delete "'+(s.value?.title||"this entry")+'". This action cannot be undone.',confirmText:"Delete",variant:"destructive",onConfirm:h,onCancel:V},null,8,["open","description"])],64))}};export{kl as default};
